(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[395,6451],{55544:function(e,i,n){(i=n(23645)(!1)).push([e.id,"._2YoR3 p,._2YoR3 summary{font-size:1rem!important;line-height:1.5rem!important}",""]),i.locals={markdown:"_2YoR3"},e.exports=i},11707:function(e,i,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/problems/[slug]/solutions/[id]/[[...ids]]",function(){return n(96487)}])},48005:function(e,i,n){"use strict";n.d(i,{U:function(){return t}});var o=n(67294);function t(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=(0,o.useState)(e),n=i[0],t=i[1],l=(0,o.useCallback)((function(){return t(!0)}),[]),s=(0,o.useCallback)((function(){return t(!1)}),[]);return{visible:n,showModal:l,hideModal:s}}},52370:function(e,i,n){"use strict";n.d(i,{L:function(){return o},Z:function(){return u}});var o,t=n(14924),l=n(85893),s=n(67294),r=n(51797),a=n(22177);!function(e){e.BORDER="border",e.CARD="card",e.DROPDOWN="dropdown"}(o||(o={}));var u=s.forwardRef((function(e,i){var n,s=e.className,u=e.children,c=e.borderType,d=void 0===c?o.CARD:c;return(0,l.jsx)("div",{ref:i,className:(0,r.yI)((n={},(0,t.Z)(n,"".concat(a.Cj.dividerBorder2," border"),d===o.BORDER),(0,t.Z)(n,a.eq.card,d===o.CARD),(0,t.Z)(n,a.eq.dropdown,d===o.DROPDOWN),n),a.Cj.bgLayer1,"rounded-lg",s),children:u})}))},8290:function(e,i,n){"use strict";n.d(i,{u:function(){return v}});var o=n(14924),t=n(85893),l=n(11355),s=n(67294),r=n(11163),a=n.n(r),u=n(51797),c=n(22177),d=n(385);function v(e){var i=e.visible,n=e.onCancel,r=e.title,v=e.children,f=e.afterClose,m=e.className,p=e.titleRowClass,x=e.titleClassName,g=e.closable,h=void 0===g||g,j=e.showCloseIcon,b=void 0===j||j,y=e.maskClosable,C=void 0!==y&&y,w=e.stopMouseDownPropagation,N=e.shouldCloseOnEsc,k=void 0===N||N,I=e.renderPrefixChildren,S=e.noShadow,T=void 0!==S&&S;(0,s.useEffect)((function(){return a().events.on("beforeHistoryChange",n),function(){return a().events.off("beforeHistoryChange",n)}}),[n]),(0,s.useEffect)((function(){if(k){var e=function(e){"Escape"===e.key&&n()};return window.addEventListener("keyup",e),function(){return window.removeEventListener("keyup",e)}}}),[n,k]);var Z=(0,s.useCallback)((function(e){return e.stopPropagation()}),[]);return(0,t.jsx)(l.u,{appear:!0,show:i,afterLeave:f,children:(0,t.jsx)("div",{"aria-modal":"true",role:"dialog",className:"fixed inset-0 overflow-y-auto z-modal",onMouseDown:null!==w&&void 0!==w?w:Z,children:(0,t.jsxs)("div",{className:"flex min-h-screen items-center justify-center px-4",children:[(0,t.jsx)(l.u.Child,{enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,t.jsx)("div",{"aria-hidden":"true",onClick:C?n:void 0,className:"fixed inset-0 bg-gray-8 opacity-60"})}),null===I||void 0===I?void 0:I.map((function(e,i){return e?(0,t.jsx)(l.u.Child,{as:s.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:e},"prefix-child-".concat(i)):null})),(0,t.jsx)(l.u.Child,{as:s.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,t.jsxs)("div",{className:(0,u.yI)("my-8 inline-block min-w-full transform overflow-hidden rounded-[13px] p-5 text-left transition-all",c.Cj.bgOverlay3,(0,o.Z)({"md:min-w-[420px]":!(null===m||void 0===m?void 0:m.includes("md:min-w-"))},c.eq.modal,!T),m),children:[r?(0,t.jsxs)("div",{className:(0,u.yI)("flex justify-between",p),children:[(0,t.jsx)("h3",{className:(0,u.yI)("text-lg font-medium",x),children:r}),h&&b&&(0,t.jsx)("button",{onClick:n,className:(0,u.yI)("cursor-pointer rounded transition-all",c.Cj.fill3Hover),children:(0,t.jsx)(d.F,{className:"h-6 w-6 text-gray-6 dark:text-dark-gray-6"})})]}):(0,t.jsx)(t.Fragment,{children:h&&(0,t.jsx)("button",{onClick:n,className:(0,u.yI)("cursor-pointer rounded transition-all","absolute top-0 right-0 m-5 z-modal"),children:(0,t.jsx)(d.F,{className:"h-6 w-6 text-gray-6 dark:text-dark-gray-6"})})}),v]})})]})})})}},16451:function(e,i,n){"use strict";n.d(i,{WZ:function(){return C},tv:function(){return b},SB:function(){return y}});var o=n(47568),t=n(14924),l=n(26042),s=n(69396),r=n(70655),a=n(85893),u=n(94184),c=n.n(u),d=n(67294),v=n(73935),f=n(22177),m=n(99953),p=d.forwardRef((function(e,i){return(0,a.jsxs)("svg",(0,s.Z)((0,l.Z)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:i},e),{children:[(0,a.jsx)("path",{fillOpacity:.15,fillRule:"evenodd",d:"M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10z",clipRule:"evenodd"}),(0,a.jsx)("path",{d:"M13 12.5a1 1 0 11-2 0v-4a1 1 0 112 0v4zM13 15.5a1 1 0 11-2 0 1 1 0 012 0z"})]}))})),x=d.forwardRef((function(e,i){return(0,a.jsxs)("svg",(0,s.Z)((0,l.Z)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:i},e),{children:[(0,a.jsx)("path",{fillOpacity:.15,fillRule:"evenodd",d:"M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10z",clipRule:"evenodd"}),(0,a.jsx)("path",{d:"M12.334 9.018a1.25 1.25 0 00-1.39.817 1 1 0 11-1.887-.663 3.25 3.25 0 016.316 1.082c0 1.06-.618 1.884-1.57 2.52a5.915 5.915 0 01-1.364.678 1 1 0 11-.633-1.897c.205-.068.552-.222.887-.446.454-.302.68-.604.68-.857 0-.61-.438-1.13-1.039-1.234zM11.187 16.135V16a1 1 0 112 0v.135a1 1 0 11-2 0z"})]}))})),g=n(51797),h=n(8290),j=n(25398),b=function(e){var i,n,t=e.title,l=e.content,s=e.okText,u=e.cancelText,v=e.footer,m=e.onOk,p=e.onCancel,x=e.onButtonCancelClick,g=e.afterClose,b=e.modalClass,y=e.footerClass,C=e.titleRowClass,w=e.visible,N=e.closable,k=void 0===N||N,I=e.showCloseIcon,S=void 0===I||I,T=(0,d.useState)(!1),Z=T[0],O=T[1],P=(0,d.useState)(!1),q=P[0],A=P[1],B=(0,d.useCallback)((function(){(0,o.Z)((function(){return(0,r.__generator)(this,(function(e){switch(e.label){case 0:A(!0),e.label=1;case 1:return e.trys.push([1,,3,4]),[4,null===m||void 0===m?void 0:m()];case 2:return e.sent(),O(!1),[3,4];case 3:return A(!1),[7];case 4:return[2]}}))}))()}),[m]),R=(0,d.useCallback)((function(){null===p||void 0===p||p(),O(!1)}),[p]),_=(0,d.useCallback)((function(){null===x||void 0===x||x(),k&&R()}),[k,R,x]),D=Boolean("boolean"===typeof w?w:Z);return{modalElement:(0,a.jsxs)(h.u,{closable:k,showCloseIcon:S,visible:D,onCancel:R,title:t,afterClose:g,className:b,titleRowClass:C,children:[l,"undefined"===typeof v?(0,a.jsxs)("footer",{className:c()("flex justify-end",y),children:[null!==(i=e.cancelButton)&&void 0!==i?i:(0,a.jsx)(j.z,{onClick:_,className:e.cancelButtonClassName,children:u||"\u53d6\u6d88"}),null!==(n=e.okButton)&&void 0!==n?n:(0,a.jsx)(j.z,{onClick:B,variant:"primary",className:c()("ml-4",f.Cj.labelWhite,e.okButtonClassName),loading:q,children:s||"\u786e\u5b9a"})]}):v]}),setModalOpen:O}},y=function(e){var i,n,l,s=e.confirmType,u=void 0===s?"error":s,v=e.title,b=e.content,y=e.okText,C=e.cancelText,w=e.footer,N=e.onOk,k=e.onCancel,I=e.onButtonCancelClick,S=e.afterClose,T=e.modalClass,Z=e.footerClass,O=e.titleRowClass,P=e.visible,q=e.closable,A=void 0===q||q,B=e.showCloseIcon,R=void 0===B||B,_=(0,d.useState)(!1),D=_[0],F=_[1],L=(0,d.useState)(!1),M=L[0],E=L[1],G=(0,d.useCallback)((function(){(0,o.Z)((function(){return(0,r.__generator)(this,(function(e){switch(e.label){case 0:E(!0),e.label=1;case 1:return e.trys.push([1,,3,4]),[4,null===N||void 0===N?void 0:N()];case 2:return e.sent(),F(!1),[3,4];case 3:return E(!1),[7];case 4:return[2]}}))}))()}),[N]),H=(0,d.useCallback)((function(){null===k||void 0===k||k(),F(!1)}),[k]),Q=(0,d.useCallback)((function(){null===I||void 0===I||I(),A&&H()}),[A,H,I]),$=Boolean("boolean"===typeof P?P:D),z=(0,a.jsxs)("div",{className:(0,g.yI)("flex items-center text-lg dark:text-dark-white",f.Cj.label1),children:["error"===u&&(0,a.jsx)(m.x,{className:(0,g.yI)("mr-3 h-8 w-8 text-xl",f.Cj.labelRed)}),"danger"===u&&(0,a.jsx)(p,{className:(0,g.yI)("mr-3 h-8 w-8 text-xl",f.Cj.labelRed)}),"primary"===u&&(0,a.jsx)(x,{className:(0,g.yI)("mr-3 h-8 w-8 text-xl",f.Cj.labelYellow)}),v]});return{modalElement:(0,a.jsxs)(h.u,{closable:A,showCloseIcon:R,visible:$,onCancel:H,title:z,afterClose:S,className:T,titleRowClass:O,children:[(0,a.jsx)("div",{className:(0,g.yI)("ml-11 mt-1 mb-8",f.Cj.label2),children:b}),"undefined"===typeof w?(0,a.jsxs)("footer",{className:c()("flex justify-end",Z),children:[null!==(i=e.cancelButton)&&void 0!==i?i:(0,a.jsx)(j.z,{onClick:Q,className:e.cancelButtonClassName,children:C||"\u53d6\u6d88"}),null!==(n=e.okButton)&&void 0!==n?n:(0,a.jsx)(j.z,{onClick:G,variant:"primary",className:(0,g.yI)("ml-4 rounded-[8px] py-[5px]",f.Cj.labelWhite,(l={},(0,t.Z)(l,f.Cj.bgRedStandard,"danger"===u),(0,t.Z)(l,f.Cj.bgRedSHover,"danger"===u),l),e.okButtonClassName),loading:M,children:y||"\u786e\u5b9a"})]}):w]}),setModalOpen:F}},C={open:function(e){var i=document.createElement("div");document.body.appendChild(i);var n=function(){try{var n;null===(n=e.afterClose)||void 0===n||n.call(e),v.unmountComponentAtNode(i)&&i.parentNode&&document.body.removeChild(i)}catch(o){}},o=function(){var i=b((0,s.Z)((0,l.Z)({},e),{afterClose:n})),o=i.modalElement,t=i.setModalOpen;return(0,d.useEffect)((function(){t(!0)}),[t]),o};return v.render((0,a.jsx)(o,{}),i),{close:n}}}},94424:function(e,i,n){"use strict";n.d(i,{D:function(){return s}});var o=n(26042),t=n(69396),l=n(85893),s=n(67294).forwardRef((function(e,i){return(0,l.jsx)("svg",(0,t.Z)((0,o.Z)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:i},e),{children:(0,l.jsx)("path",{fillRule:"evenodd",d:"M5.414 11H21a1 1 0 110 2H5.414L12 19.586A1 1 0 0110.586 21l-8.293-8.293a.997.997 0 01.003-1.417L10.586 3A1 1 0 1112 4.414L5.414 11z",clipRule:"evenodd"})}))}))},99953:function(e,i,n){"use strict";n.d(i,{x:function(){return s}});var o=n(26042),t=n(69396),l=n(85893),s=n(67294).forwardRef((function(e,i){return(0,l.jsxs)("svg",(0,t.Z)((0,o.Z)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:i},e),{children:[(0,l.jsx)("path",{fillOpacity:.15,fillRule:"evenodd",d:"M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10z",clipRule:"evenodd"}),(0,l.jsx)("path",{fillRule:"evenodd",d:"M13.414 12l2.293-2.293a1 1 0 00-1.414-1.414L12 10.586 9.707 8.293a1 1 0 00-1.414 1.414L10.586 12l-2.293 2.293a1 1 0 101.414 1.414L12 13.414l2.293 2.293a1 1 0 001.414-1.414L13.414 12z",clipRule:"evenodd"})]}))}))},96487:function(e,i,n){"use strict";n.r(i),n.d(i,{default:function(){return qn}});var o=n(85893),t=n(67294),l=n(26042),s=n(10253),r=n(29815),a=n(76273),u=n(82647),c=n(19601),d=n(11163),v=n.n(d),f=n(35319),m=n(7649),p=n(95576),x=n(46922),g=n(51797),h=n(75117),j=n(22177),b=n(35886),y=n(11964),C=n(56700),w=n(42673),N=n(69396),k=n(88525),I=n(23874),S=n(56235),T=n(33813),Z=n(6919),O=n(63200),P=h.Oo?function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,k.u3W)(S.f6,{topicId:e.topicId},(0,N.Z)((0,l.Z)({},i),{select:function(e){var i,n,o,t,l,s,r,a,u,c,d,v,f,m,p,x,g,h,j,b,y,C,w,N,k,I,S,O,P,q=e.topic,A=e.isSolutionTopic,B=e.relatedSolutions;return q?{hasOfficialSolution:A,communitySolution:{slug:"",uuid:"",id:Number(q.id),content:(0,T.pC)(q.post.content),postId:q.post.id,title:q.title,isPinned:q.pinned,isFavorite:Boolean(q.isFavorite),isOfficial:!1,hasVideo:!1,isPremium:!1,isVideoPremium:!1,ipRegion:"",starRating:0,starRatingCount:0,voteCount:q.post.voteCount,viewCount:q.viewCount,commentCount:q.topLevelCommentCount,favoriteCount:q.favoriteCount,creationDate:null!==(v=q.post.creationDate)&&void 0!==v?v:+new Date,isSubscribed:null!==(f=q.subscribed)&&void 0!==f&&f,tags:q.solutionTags?q.solutionTags.map((function(e){return null!==(m=null===e||void 0===e?void 0:e.name)&&void 0!==m?m:""})):[],tagSlugs:q.solutionTags?q.solutionTags.map((function(e){return null!==(p=null===e||void 0===e?void 0:e.slug)&&void 0!==p?p:""})):[],author:{userAvatar:null!==(x=null===(i=q.post.author)||void 0===i?void 0:i.profile.userAvatar)&&void 0!==x?x:"",username:null!==(g=null===(n=q.post.author)||void 0===n?void 0:n.username)&&void 0!==g?g:"",isActive:null!==(h=null===(o=q.post.author)||void 0===o?void 0:o.isActive)&&void 0!==h&&h,nameColor:null!==(j=null===(t=q.post.author)||void 0===t?void 0:t.nameColor)&&void 0!==j?j:void 0,activeBadgeIcon:null!==(b=null===(l=q.post.author)||void 0===l||null===(s=l.activeBadge)||void 0===s?void 0:s.icon)&&void 0!==b?b:"",activeBadgeName:null!==(y=null===(r=q.post.author)||void 0===r||null===(a=r.activeBadge)||void 0===a?void 0:a.displayName)&&void 0!==y?y:"",isAdmin:null!==(C=null===(u=q.post.author)||void 0===u?void 0:u.isDiscussAdmin)&&void 0!==C&&C,reputation:null!==(w=null===(c=q.post.author)||void 0===c||null===(d=c.profile)||void 0===d?void 0:d.reputation)&&void 0!==w?w:0},isOwnPost:null!==(N=q.post.isOwnPost)&&void 0!==N&&N,isHidden:Boolean(q.post.isHidden),isHiddenFromTrending:Boolean(q.hideFromTrending),isDeleted:Boolean(q.post.status===Z.$4.Deleted),status:q.post.status,voteStatus:Number(null!==(k=q.post.voteStatus)&&void 0!==k?k:0),relatedSolutions:B?B.map((function(e){var i,n,o,t,l;return{id:null!==(I=null===e||void 0===e?void 0:e.id)&&void 0!==I?I:0,author:{userAvatar:null!==(S=null===e||void 0===e||null===(i=e.post)||void 0===i||null===(n=i.author)||void 0===n||null===(o=n.profile)||void 0===o?void 0:o.userAvatar)&&void 0!==S?S:"",username:null!==(O=null===e||void 0===e||null===(t=e.post)||void 0===t||null===(l=t.author)||void 0===l?void 0:l.username)&&void 0!==O?O:""},title:null!==(P=null===e||void 0===e?void 0:e.title)&&void 0!==P?P:"",tags:(null===e||void 0===e?void 0:e.solutionTags)?e.solutionTags.map((function(e){return null===e||void 0===e?void 0:e.name})):[]}})).slice(0,5):[]}}:{communitySolution:null,hasOfficialSolution:!1}}}))}:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,I.ZL7)(S.f6,{slug:e.slug},(0,N.Z)((0,l.Z)({enabled:!!e.slug},i),{select:function(e){var i,n,o,t,l,s,r,a,u,c,d,v,f,m,p,x,g,h,j,b,y,C,w,N,k,S,T,P,q,A,B,R,_,D,F,L,M=e.solutionArticle;return M?{hasOfficialSolution:!1,communitySolution:{slug:M.slug,uuid:M.uuid,id:Number(null===(i=M.topic)||void 0===i?void 0:i.id),content:(null===M||void 0===M?void 0:M.content)||"",postId:(null===(n=M.topic)||void 0===n?void 0:n.post.id)||0,title:M.title,isPinned:M.isEditorsPick,isOfficial:null!==(h=null===M||void 0===M?void 0:M.byLeetcode)&&void 0!==h&&h,hasVideo:(null!==(j=null===M||void 0===M||null===(o=M.videosInfo)||void 0===o?void 0:o.length)&&void 0!==j?j:0)>0,isPremium:!1,isVideoPremium:!1,ipRegion:M.ipRegion,reactionType:M.reactionType,starRating:null!==(b=null===M||void 0===M?void 0:M.favoriteCount)&&void 0!==b?b:0,starRatingCount:0,voteCount:null!==(y=null===(t=M.reactionsV2)||void 0===t?void 0:t.reduce((function(e,i){return i.reactionType===I.kt6.Upvote?e+i.count:e}),0))&&void 0!==y?y:0,viewCount:null!==(C=null===M||void 0===M?void 0:M.hitCount)&&void 0!==C?C:0,commentCount:null!==(w=null===(l=M.topic)||void 0===l?void 0:l.commentCount)&&void 0!==w?w:0,favoriteCount:null!==(N=null===M||void 0===M?void 0:M.favoriteCount)&&void 0!==N?N:0,creationDate:null!==(k=+new Date(M.createdAt))&&void 0!==k?k:+new Date,isSubscribed:null!==(S=null===(s=M.topic)||void 0===s?void 0:s.subscribed)&&void 0!==S&&S,isFavorite:M.isMyFavorite,tags:M.tags.map((function(e){return e.nameTranslated||e.name})),tagSlugs:M.tags.map((function(e){return e.slug})),author:{userAvatar:null!==(T=null===(r=M.author)||void 0===r?void 0:r.profile.userAvatar)&&void 0!==T?T:"",username:null!==(P=null===(a=M.author)||void 0===a?void 0:a.profile.userSlug)&&void 0!==P?P:"",realName:M.author.profile.realName,isActive:!1,nameColor:void 0,activeBadgeIcon:"",activeBadgeName:"",isAdmin:null!==(q=null===(u=M.author)||void 0===u?void 0:u.isDiscussAdmin)&&void 0!==q&&q,reputation:null!==(A=null===(c=M.author)||void 0===c?void 0:c.profile.reputation)&&void 0!==A?A:0},isOwnPost:null!==(B=null===(d=M.topic)||void 0===d?void 0:d.post.isOwnPost)&&void 0!==B&&B,isHidden:!1,isHiddenFromTrending:!1,isDeleted:Boolean((null===(v=M.topic)||void 0===v?void 0:v.post.status)===Z.$4.Deleted),status:(0,O.F2)(M.status),voteStatus:Number(null!==(R=null===(f=M.topic)||void 0===f?void 0:f.post.voteStatus)&&void 0!==R?R:0),prevPost:{questionSlug:null!==(_=null===M||void 0===M||null===(m=M.prev)||void 0===m?void 0:m.slug)&&void 0!==_?_:"",title:null!==(D=null===M||void 0===M||null===(p=M.prev)||void 0===p?void 0:p.title)&&void 0!==D?D:""},nextPost:{questionSlug:null!==(F=null===M||void 0===M||null===(x=M.next)||void 0===x?void 0:x.slug)&&void 0!==F?F:"",title:null!==(L=null===M||void 0===M||null===(g=M.next)||void 0===g?void 0:g.title)&&void 0!==L?L:""}}}:{communitySolution:null,hasOfficialSolution:!1}}}))},q=n(88767),A=h.Oo?function(e,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{enabled:!1};return(0,k.gKm)(S.f6,(0,l.Z)({},i),(0,N.Z)((0,l.Z)({},n),{select:function(i){var n,o,t,s,r,a,u,c,d=null===i||void 0===i||null===(n=i.question)||void 0===n?void 0:n.solution;return d?(0,N.Z)((0,l.Z)({},e),{title:d.title,content:null!==(s=d.content)&&void 0!==s?s:e.content,isOfficial:!0,hasVideo:Boolean(d.hasVideoSolution),starRating:null!==(r=null===(o=d.rating)||void 0===o?void 0:o.average)&&void 0!==r?r:0,starRatingCount:null!==(a=null===(t=d.rating)||void 0===t?void 0:t.count)&&void 0!==a?a:0,contentTypeId:null!==(u=d.contentTypeId)&&void 0!==u?u:"",solutionId:null!==(c=d.id)&&void 0!==c?c:"",isPremium:d.paidOnly||!1,canSeeDetail:Boolean(d.canSeeDetail)}):null}}))}:function(e,i){return(0,q.useQuery)([k.gKm.getKey(i)],(function(){return null}))},B=n(52370),R=n(37906),_=n(9181),D=n(17150),F=n(86699),L=n(15214),M=n(55964),E=n(42054),G=n(26126),H=n(95633),Q=n(8290),$=t.forwardRef((function(e,i){return(0,o.jsx)("svg",(0,N.Z)((0,l.Z)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:i},e),{children:(0,o.jsx)("path",{fillRule:"evenodd",d:"M15.406 16.82a8 8 0 111.414-1.414l3.512 3.512a1 1 0 01-1.414 1.414l-3.512-3.512zM11.5 9.5H13a1 1 0 110 2h-1.5V13a1 1 0 11-2 0v-1.5H8a1 1 0 110-2h1.5V8a1 1 0 012 0v1.5zm-1 7a6 6 0 100-12 6 6 0 000 12z",clipRule:"evenodd"})}))})),z=t.forwardRef((function(e,i){return(0,o.jsx)("svg",(0,N.Z)((0,l.Z)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:i},e),{children:(0,o.jsx)("path",{fillRule:"evenodd",d:"M15.406 16.82a8 8 0 111.414-1.414l3.512 3.512a1 1 0 01-1.414 1.414l-3.512-3.512zM10.5 16.5a6 6 0 100-12 6 6 0 000 12zm-2.5-5a1 1 0 110-2h5a1 1 0 110 2H8z",clipRule:"evenodd"})}))})),V=n(385),U=function(e){var i=e.children,n=(0,s.Z)((0,H.O)(!1),2),l=n[0],r=n[1],a=r.on,u=r.off,c=(0,t.useState)(""),d=c[0],v=c[1],f=(0,t.useCallback)((function(e){if(!h.Oo){var i=e.target;"IMG"!==i.tagName||i.classList.contains("no-preview")||(v(i.src),a())}}),[a]);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{onClick:f,children:i}),(0,o.jsxs)(Q.u,{visible:l,onCancel:u,className:"my-0 h-[100vh] w-full rounded-none bg-transparent p-0 children:!overflow-visible",noShadow:!0,stopMouseDownPropagation:E.Z,closable:!1,children:[(0,o.jsx)(G.d$,{minScale:.5,maxScale:5,pinch:{step:2e3},wheel:{step:.1},children:function(e){var i=e.zoomIn,n=e.zoomOut;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("figure",{className:"flex h-full w-full items-center justify-center children:cursor-grab",children:(0,o.jsx)(G.Uv,{children:(0,o.jsx)("img",{src:d,alt:"",className:"bg-[hsl(0, 0%, 90%)] max-h-[560px] w-auto max-w-[1080px] cursor-grab transition-transform duration-300"})})}),(0,o.jsxs)("div",{className:"fixed bottom-4 left-[50%] flex rounded-md bg-gray-7 p-2 dark:bg-dark-gray-7",children:[(0,o.jsx)($,{className:"h-6 w-6 cursor-pointer text-paper dark:text-dark-paper",onClick:function(){return i()}}),(0,o.jsx)("div",{className:"mx-2 h-6 border-r border-dark-divider-1 dark:border-divider-1"}),(0,o.jsx)(z,{className:"h-6 w-6 cursor-pointer text-paper dark:text-dark-paper",onClick:function(){return n()}})]})]})}}),(0,o.jsx)("button",{onClick:u,className:"absolute top-0 right-0 m-5 cursor-pointer rounded bg-gray-7 p-2 transition-all z-modal dark:bg-dark-gray-7",children:(0,o.jsx)(V.F,{className:"h-6 w-6 text-paper dark:text-dark-paper"})})]})]})},W=n(14924),K=n(84945),X=n(83757),Y=n(47568),J=n(70655),ee=n(68652),ie=n(64706),ne=h.Oo?function(e){var i=e.queryClient,n=e.topicId,o=e.cb;i.setQueryData(k.u3W.getKey({topicId:n}),(function(e){var i=o(e);return(0,l.Z)({},e,i)}))}:E.Z,oe=function(e){var i=e.queryClient,n=e.slug,o=e.isFavorite,t=I.ZL7.getKey({slug:n}),l=i.getQueriesData(t);return i.setQueriesData(t,(function(e){var i=(0,ee.Z)(e);return(null===i||void 0===i?void 0:i.solutionArticle)&&(i.solutionArticle.isMyFavorite=o),i})),l},te=h.Oo?function(e){var i=e.topicId,n=e.isFavorite,o=(0,q.useQueryClient)(),s=(0,k.XHC)(S.f6,{onSettled:function(e){var t;if(null===e||void 0===e||null===(t=e.toggleFavoriteSolution)||void 0===t?void 0:t.ok){var s=!n,r=s?1:-1;ne({queryClient:o,topicId:i,cb:function(e){return{topic:(0,N.Z)((0,l.Z)({},e.topic),{isFavorite:s,favoriteCount:e.topic.favoriteCount+r})}}})}}}),r=!n,a=s.isLoading,u=s.mutateAsync;return{isLoading:a,mutateAsync:(0,t.useCallback)((0,Y.Z)((function(){return(0,J.__generator)(this,(function(e){return[2,u({topicId:i,isFavorite:r}).then((function(e){var i,n,o;return{ok:null===(i=e.toggleFavoriteSolution)||void 0===i?void 0:i.ok,error:null===(n=e.toggleFavoriteSolution)||void 0===n?void 0:n.error,isFavorite:(null===(o=e.toggleFavoriteSolution)||void 0===o?void 0:o.ok)?r:!r}}))]}))})),[u,i,r])}}:function(e){var i=e.slug,n=e.isFavorite,o=(0,q.useQueryClient)(),l=(0,I.NIt)(S.f6,{onMutate:function(){return(0,Y.Z)((function(){return(0,J.__generator)(this,(function(e){return[2,oe({queryClient:o,slug:i,isFavorite:!0})]}))}))()},onError:function(e,i,n){null===n||void 0===n||n.forEach((function(e){var i=(0,s.Z)(e,2),n=i[0],t=i[1];o.setQueryData(n,t)})),(0,ie.defaultErrorHandler)(e)}}),r=l.mutateAsync,a=l.isLoading,u=(0,I.RBs)(S.f6,{onMutate:function(){return(0,Y.Z)((function(){return(0,J.__generator)(this,(function(e){return[2,oe({queryClient:o,slug:i,isFavorite:!1})]}))}))()},onError:function(e,i,n){null===n||void 0===n||n.forEach((function(e){var i=(0,s.Z)(e,2),n=i[0],t=i[1];o.setQueryData(n,t)})),(0,ie.defaultErrorHandler)(e)}}),c=u.mutateAsync,d=u.isLoading;return{isLoading:a||d,mutateAsync:(0,t.useCallback)((function(){var e={data:{articleSlug:i}};return n?c(e).then((function(e){var i,o;return{ok:null===(i=e.removeFavoriteArticle)||void 0===i?void 0:i.ok,error:null===(o=e.removeFavoriteArticle)||void 0===o?void 0:o.error,isFavorite:!n}})):r(e).then((function(e){var i,o;return{ok:null===(i=e.addFavoriteArticle)||void 0===i?void 0:i.ok,error:null===(o=e.addFavoriteArticle)||void 0===o?void 0:o.error,isFavorite:!n}}))}),[r,n,c,i])}},le=n(36733),se=n(94589),re=n(29297),ae=n(20152),ue=function(e){var i=e.solution,n=e.hasLabel,l=void 0===n||n,s=e.isInFloatingAction,a=void 0!==s&&s,u=(0,c.$G)("solutions",{keyPrefix:"post"}).t,d=(0,X.v)((function(e){return e.questionSlug})),v=i.slug,f=i.isFavorite,m=i.id,p=(0,t.useState)(f),h=p[0],b=p[1];(0,t.useEffect)((function(){return b(f)}),[f]);var y,C=h?le.z:se.I,w=h?[j.Cj.labelBrandOrange]:[j.Cj.labelGrey7,j.M$.labelGrey8Group],N=te({slug:v,isFavorite:h,topicId:m}),k=N.mutateAsync,I=N.isLoading,S=(0,t.useCallback)((function(){k().then((function(e){var i=e.ok,n=e.error,o=e.isFavorite;if(!i||n)return K.y.error(n||u("genericError"),{itemClassName:j.Cj.bgLayer3});K.y.success(u(o?"addToFavoriteSuccess":"removeFromFavoriteSuccess"),{itemClassName:j.Cj.bgLayer3}),b(o),re.d.qdFavoritePostClick({qd_version:x.AQ,qd_question_slug:d,qd_favorite_pos:a?"floating_bar":"bottom_bar"})}))}),[k,u,d,a]),T=u(h?"isInCollection":"addToCollection"),Z=(0,g.yI)("text-md font-medium",(y={},(0,W.Z)(y,j.Cj.labelBrandOrange,h),(0,W.Z)(y,j.M$.label1Group,!h),y));return(0,o.jsx)(ae.E,{icon:C,iconClassName:g.yI.apply(void 0,["h-4.5 w-4.5"].concat((0,r.Z)(w))),label:l?T:void 0,labelClassName:Z,className:"group cursor-pointer select-none",onClick:I?void 0:S})},ce=n(46883),de=n(57152),ve=n(54340),fe=n(44888),me=function(){var e=(0,c.$G)("solutions",{keyPrefix:"post"}).t,i=(0,de.r)();return(0,o.jsx)(ce.ua7,{label:e("feedbackTooltip"),color:i["grey-7"],hasArrow:!1,children:(0,o.jsx)(ve.r,{href:m.Hb.feedback(),isExternal:!0,className:(0,g.yI)(j.Cj.labelGrey7,j.M$.labelGrey7,"flex h-6 w-6 items-center justify-center"),children:(0,o.jsx)(fe.R,{className:(0,g.yI)("h-4.5 w-4.5")})})})},pe=n(48005),xe=n(27503),ge=n(50632),he=h.Oo?function(){var e=(0,q.useQueryClient)();return(0,k.M6w)(S.f6,{onSuccess:function(i,n){var o,t,s,r=n.topicId;if(null===(o=i.subscribeTopic)||void 0===o?void 0:o.ok){var a=Boolean(null===(t=i.subscribeTopic)||void 0===t||null===(s=t.topic)||void 0===s?void 0:s.subscribed);ne({queryClient:e,topicId:r,cb:function(e){return{topic:(0,N.Z)((0,l.Z)({},e.topic),{subscribed:a})}}})}}})}:function(){var e=(0,q.useQueryClient)();return(0,I.M6w)(S.f6,{onSuccess:function(i,n){var o,t,s,r=n.topicId;if(null===(o=i.subscribeTopic)||void 0===o?void 0:o.ok){var a=Boolean(null===(t=i.subscribeTopic)||void 0===t||null===(s=t.topic)||void 0===s?void 0:s.subscribed);ne({queryClient:e,topicId:r,cb:function(e){return{topic:(0,N.Z)((0,l.Z)({},e.topic),{subscribed:a})}}})}}})},je=n(26440),be=function(e){var i=e.topicId,n=e.subscribed,l=(0,c.$G)("solutions",{keyPrefix:"post.more"}).t,s=(0,t.useState)(n),r=s[0],a=s[1],u=l(r?"unsubscribe":"subscribe"),d=he().mutateAsync,v=(0,X.v)((function(e){return e.questionSlug})),f=(0,t.useCallback)((function(){a((function(e){return!e})),K.y.success(l(r?"unsubscribeMessage":"subscribeMessage"),{itemClassName:j.Cj.bgLayer3}),d({topicId:i,subscribe:!r}).then((function(e){var i,n,o,t;(null===(i=e.subscribeTopic)||void 0===i?void 0:i.ok)&&!Boolean(null===(n=e.subscribeTopic)||void 0===n?void 0:n.error)||(K.y.error(l("error"),{itemClassName:j.Cj.bgLayer3}),a((function(e){return!e})));var s=Boolean(null===(o=e.subscribeTopic)||void 0===o||null===(t=o.topic)||void 0===t?void 0:t.subscribed);a(s),re.d.qdSubscribePostClick({qd_version:x.AQ,qd_question_slug:v,qd_subscribe_status:String(s)})}))}),[r,l,d,i,v]);return(0,o.jsx)(je.T,{onClick:f,children:u})},ye=h.Oo?function(){var e=(0,q.useQueryClient)();return(0,k.cNx)(S.f6,{onSuccess:function(i,n){var o,t,s,r=n.topicId;if(null===(o=i.togglePinTopic)||void 0===o?void 0:o.ok){var a=Boolean(null===(t=i.togglePinTopic)||void 0===t||null===(s=t.topic)||void 0===s?void 0:s.pinned);ne({queryClient:e,topicId:r,cb:function(e){return{topic:(0,N.Z)((0,l.Z)({},e.topic),{pinned:a})}}})}}})}:function(){return{}},Ce=function(e){var i=e.topicId,n=e.pinned,l=e.updateModal,s=(0,c.$G)("solutions",{keyPrefix:"post.more"}).t,r=(0,t.useState)(n),a=r[0],u=r[1],d=s(a?"unpin":"pin"),v=ye().mutateAsync,f=(0,t.useCallback)((function(){l({loading:!0}),u((function(e){return!e})),K.y.success(s(a?"unpinMessage":"pinMessage"),{itemClassName:j.Cj.bgLayer3}),v({topicId:i,pinned:!a}).then((function(e){var i,n,o,t;(null===(i=e.togglePinTopic)||void 0===i?void 0:i.ok)&&!Boolean(null===(n=e.togglePinTopic)||void 0===n?void 0:n.error)||(K.y.error(s("error"),{itemClassName:j.Cj.bgLayer3}),u((function(e){return!e}))),u(Boolean(null===(o=e.togglePinTopic)||void 0===o||null===(t=o.topic)||void 0===t?void 0:t.pinned)),l({loading:!1,visible:!1})}))}),[l,u,v,i,a,s]),m=(0,t.useCallback)((function(){l({visible:!0,variant:"info",confirmText:s(a?"unpinConfirmText":"pinConfirmText"),confirmBtn:s(a?"unpinConfirmBtn":"pinConfirmBtn"),onConfirm:f})}),[l,f,a,s]);return(0,o.jsx)(je.T,{onClick:m,children:d})},we=h.Oo?function(){var e=(0,q.useQueryClient)();return(0,k.xim)(S.f6,{onSuccess:function(i,n){var o,t,s,r=n.postId;if(null===(o=i.hidePost)||void 0===o?void 0:o.ok){var a=Boolean(null===(t=i.hidePost)||void 0===t||null===(s=t.post)||void 0===s?void 0:s.isHidden);ne({queryClient:e,topicId:r,cb:function(e){return{topic:(0,N.Z)((0,l.Z)({},e.topic),{post:(0,N.Z)((0,l.Z)({},e.topic.post),{isHidden:a,status:a?Z.$4.Hidden:Z.$4.Open})})}}})}}})}:function(){return{}},Ne=function(e){var i=e.topicId,n=e.hidden,l=e.updateModal,s=(0,c.$G)("solutions",{keyPrefix:"post.more"}).t,r=(0,t.useState)(n),a=r[0],u=r[1],d=s(a?"show":"hide"),v=we().mutateAsync,f=(0,t.useCallback)((function(){l({loading:!0}),u((function(e){return!e})),K.y.success(s(a?"showMessage":"hideMessage"),{itemClassName:j.Cj.bgLayer3}),v({postId:i,hide:!a}).then((function(e){var i,n,o,t;(null===(i=e.hidePost)||void 0===i?void 0:i.ok)&&!Boolean(null===(n=e.hidePost)||void 0===n?void 0:n.error)||(K.y.error(s("error"),{itemClassName:j.Cj.bgLayer3}),u((function(e){return!e}))),u(Boolean(null===(o=e.hidePost)||void 0===o||null===(t=o.post)||void 0===t?void 0:t.isHidden)),l({loading:!1,visible:!1})}))}),[l,u,v,i,a,s]),m=(0,t.useCallback)((function(){l({visible:!0,variant:a?"info":"danger",confirmText:s(a?"showConfirmText":"hideConfirmText"),confirmBtn:s(a?"showConfirmBtn":"hideConfirmBtn"),onConfirm:f})}),[l,f,a,s]);return(0,o.jsx)(je.T,{onClick:m,children:d})},ke=h.Oo?function(){var e=(0,q.useQueryClient)();return(0,k.ir7)(S.f6,{onSuccess:function(i,n){var o,t,s,r=n.topicId;if(null===(o=i.hideTopicFromTrending)||void 0===o?void 0:o.ok){var a=Boolean(null===(t=i.hideTopicFromTrending)||void 0===t||null===(s=t.topic)||void 0===s?void 0:s.hideFromTrending);ne({queryClient:e,topicId:r,cb:function(e){return{topic:(0,N.Z)((0,l.Z)({},e.topic),{hideFromTrending:a})}}})}}})}:function(){return{}},Ie=function(e){var i=e.topicId,n=e.updateModal,l=(0,c.$G)("solutions",{keyPrefix:"post.more"}).t,s=ke().mutateAsync,r=(0,t.useCallback)((function(){n({loading:!0}),K.y.success(l("hideFromTrendingMessage"),{itemClassName:j.Cj.bgLayer3}),s({topicId:i,hide:!0}).then((function(e){var i;if(!(null===(i=e.hideTopicFromTrending)||void 0===i?void 0:i.ok))return K.y.error(l("error"),{itemClassName:j.Cj.bgLayer3});n({loading:!1,visible:!1})}))}),[n,s,i,l]),a=(0,t.useCallback)((function(){n({visible:!0,variant:"danger",confirmText:l("hideFromTrendingConfirmText"),confirmBtn:l("hideFromTrendingConfirmBtn"),onConfirm:r})}),[n,r,l]);return(0,o.jsx)(je.T,{onClick:a,children:l("hideFromTrending")})},Se=n(51351),Te=h.Oo?function(){var e=(0,q.useQueryClient)();return(0,k.ejf)(S.f6,{onSuccess:function(i,n){var o,t=n.topicId;(null===i||void 0===i||null===(o=i.migrateSolutionToDiscussion)||void 0===o?void 0:o.ok)&&ne({queryClient:e,topicId:t,cb:function(e){return{topic:(0,N.Z)((0,l.Z)({},e.topic),{post:(0,N.Z)((0,l.Z)({},e.topic.post),{status:Z.$4.Deleted})})}}})}})}:function(){return(0,q.useMutation)((function(e){e=null!==e?e:(0,Se.Z)(new TypeError("Cannot destructure undefined"));return Promise.resolve({migrateSolutionToDiscussion:{ok:!0,comment:{id:1}}})}))},Ze=function(e){var i=e.topicId,n=e.updateModal,l=(0,c.$G)("solutions",{keyPrefix:"post.more"}).t,s=Te().mutateAsync,r=(0,t.useCallback)((function(){n({loading:!0}),s({topicId:i}).then((function(e){var i,o;if(!(null===e||void 0===e||null===(i=e.migrateSolutionToDiscussion)||void 0===i?void 0:i.ok))return K.y.error(l("error"),{itemClassName:j.Cj.bgLayer3});var t=b.cm.getState().questionSlug,s=null===(o=e.migrateSolutionToDiscussion.comment)||void 0===o?void 0:o.id;t&&s&&window.open(m.Hb.discussion(t,s),"_blank"),K.y.success(l("moveToDiscussionMessage"),{itemClassName:j.Cj.bgLayer3}),n({loading:!1,visible:!1})}))}),[n,s,i,l]),a=(0,t.useCallback)((function(){n({visible:!0,variant:"info",confirmText:l("moveToDiscussionConfirmText"),confirmBtn:l("moveToDiscussionConfirmBtn"),onConfirm:r})}),[n,r,l]);return(0,o.jsx)(je.T,{onClick:a,children:l("moveToDiscussion")})},Oe=h.Oo?function(){var e=(0,q.useQueryClient)();return(0,k.jnm)(S.f6,{onSuccess:function(i,n){var o,t=n.topicId;(null===(o=i.deleteTopic)||void 0===o?void 0:o.ok)&&ne({queryClient:e,topicId:t,cb:function(e){return{topic:(0,N.Z)((0,l.Z)({},e.topic),{post:(0,N.Z)((0,l.Z)({},e.topic.post),{status:Z.$4.Deleted})})}}})}})}:function(){var e=(0,q.useQueryClient)();return(0,I.m7p)(S.f6,{onSuccess:function(){e.invalidateQueries(["questionTopicsList"])}})},Pe=n(83135),qe=function(e){var i=e.topicId,n=e.updateModal,s=e.slug,r=(0,c.$G)("solutions",{keyPrefix:"post.more"}).t,a=Oe().mutateAsync,u=(0,b.cm)((function(e){return e.questionSlug})),d=(0,Pe.n)().filters,v=(0,q.useQueryClient)(),f=(0,t.useCallback)((function(){n({loading:!0}),a({topicId:i,slug:s}).then((function(e){var i;if("deleteTopic"in e&&(!(null===(i=e.deleteTopic)||void 0===i?void 0:i.ok)||e.deleteTopic.error))return K.y.error(r("error"),{itemClassName:j.Cj.bgLayer3});(0,b.aq)({},!0),(0,O.UD)((0,N.Z)((0,l.Z)({},d),{questionSlug:u}),v),K.y.success(r("deleteMessage"),{itemClassName:j.Cj.bgLayer3}),n({loading:!1,visible:!1})}))}),[n,a,i,s,r,d,v,u]),m=(0,t.useCallback)((function(){n({visible:!0,variant:"danger",confirmText:r("deleteConfirmText"),confirmBtn:r("deleteConfirmBtn"),onConfirm:f})}),[n,f,r]);return(0,o.jsx)(je.T,{onClick:m,children:r("delete")})},Ae=h.Oo?function(){var e=(0,q.useQueryClient)();return(0,k.dnZ)(S.f6,{onSuccess:function(i,n){var o,t=n.topicId;(null===(o=i.approveTopic)||void 0===o?void 0:o.ok)&&ne({queryClient:e,topicId:t,cb:function(e){return{topic:(0,N.Z)((0,l.Z)({},e.topic),{post:(0,N.Z)((0,l.Z)({},e.topic.post),{status:"Open"})})}}})}})}:function(){return{}},Be=function(e){var i=e.topicId,n=e.updateModal,l=(0,c.$G)("solutions",{keyPrefix:"post.more"}).t,s=Ae().mutateAsync,r=(0,t.useCallback)((function(){n({loading:!0}),K.y.success(l("restoreMessage"),{itemClassName:j.Cj.bgLayer3}),s({topicId:i}).then((function(e){var i;if(!(null===(i=e.approveTopic)||void 0===i?void 0:i.ok))return K.y.error(l("error"),{itemClassName:j.Cj.bgLayer3});n({loading:!1,visible:!1})}))}),[n,s,i,l]),a=(0,t.useCallback)((function(){n({visible:!0,variant:"info",confirmText:l("restoreConfirmText"),confirmBtn:l("restoreConfirmBtn"),onConfirm:r})}),[n,r,l]);return(0,o.jsx)(je.T,{onClick:a,children:l("restore")})},Re=n(80315),_e=n(68616),De=n(45215),Fe=function(e){var i,n=e.solution,l=e.placement,s=(0,c.$G)("solutions",{keyPrefix:"post.more"}).t,r=n.isOfficial,a=n.isOwnPost,u=n.id,d=null===(i=(0,ge.U)().data)||void 0===i?void 0:i.userStatus,v=[Boolean(null===d||void 0===d?void 0:d.isAdmin),null===d||void 0===d?void 0:d.permissions],f=function(e){var i=e.permissions,n=e.isOfficial,o=e.isOwnPost,l=e.isAdmin,s=(0,t.useMemo)((function(){return h.ob?Boolean(o)||!n&&l:!n&&(Boolean(o)||(0,Re.F9)(i,_e.P.DiscussChangePost))}),[l,n,o,i]),r=(0,t.useMemo)((function(){return h.ob?Boolean(o)||!n&&l:!n&&(o||(0,Re.F9)(i,_e.P.DiscussDeletePost))}),[l,n,o,i]);return(0,t.useMemo)((function(){return{canEdit:s,canReport:h.Oo?!n&&!o:!o,canSubscribe:!0,canPin:!n&&(0,Re.F9)(i,_e.P.DiscussPinTopic),canHide:!n&&(0,Re.F9)(i,_e.P.DiscussHidePost),canHideFromTrending:!n&&l,canMoveToDiscuss:!n&&(0,Re.F9)(i,_e.P.SolutionMoveToDiscussion),canDelete:r,canRestore:!n&&(0,Re.F9)(i,_e.P.DiscussDeletePost)}}),[s,n,o,i,l,r])}({permissions:v[1],isOwnPost:a,isOfficial:r,isAdmin:v[0]}),m=(0,t.useCallback)((function(){var e=b.cm.getState(),i=e.questionSlug,o=e.topicId;re.d.qdEditPostClick({qd_version:x.AQ,qd_question_slug:i}),(0,b.UY)({questionSlug:i,topicId:o,slug:n.slug})}),[n.slug]),p=(0,pe.U)(),y=p.visible,C=p.showModal,w=p.hideModal,N=(0,xe.t)(),k=N.modal,I=N.update,S=h.ob&&r?"\u53cd\u9988":s("report");return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(je.l,{placement:l,btnClassName:"w-4.5 h-4.5",iconClassName:(0,g.yI)(j.Cj.labelGrey7,j.Cj.labelGrey8Hover,"w-4.5 h-4.5"),children:[f.canEdit&&(0,o.jsx)(je.T,{onClick:m,children:s("edit")}),f.canReport&&(0,o.jsx)(je.T,{onClick:C,children:S}),f.canSubscribe&&h.Oo&&(0,o.jsx)(be,{topicId:u,subscribed:n.isSubscribed}),f.canPin&&(0,o.jsx)(Ce,{topicId:u,pinned:n.isPinned,updateModal:I}),f.canHide&&(0,o.jsx)(Ne,{topicId:u,hidden:n.isHidden,updateModal:I}),f.canHideFromTrending&&!n.isHiddenFromTrending&&h.Oo&&(0,o.jsx)(Ie,{topicId:u,updateModal:I}),f.canMoveToDiscuss&&h.Oo&&(0,o.jsx)(Ze,{topicId:u,updateModal:I}),f.canDelete&&!n.isDeleted&&(0,o.jsx)(qe,{topicId:u,updateModal:I,slug:n.slug}),f.canRestore&&n.isDeleted&&(0,o.jsx)(Be,{topicId:u,updateModal:I})]}),h.Oo||!r?(0,o.jsx)(De.y,{postId:u,articleId:n.uuid,visible:y,onCancel:w}):(0,o.jsx)(De.a,{visible:y,onCancel:w,isOfficial:n.isOfficial,solutionTitle:n.title,slug:n.slug}),k]})},Le=n(79039),Me=t.forwardRef((function(e,i){return(0,o.jsx)("svg",(0,N.Z)((0,l.Z)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:i},e),{children:(0,o.jsx)("path",{fillRule:"evenodd",d:"M16.848 13.05l.918 7.848a1 1 0 01-1.508.974L12 19.317l-4.258 2.555a1 1 0 01-1.508-.974l.918-7.848a7 7 0 119.695 0zm-1.864 1.284A6.973 6.973 0 0112 15a6.972 6.972 0 01-2.984-.666l-.56 4.776 3.03-1.817a1 1 0 011.028 0l3.03 1.817-.56-4.776zM17 8A5 5 0 117 8a5 5 0 0110 0z",clipRule:"evenodd"})}))})),Ee=n(38488),Ge=n(84004),He=n(25398),Qe=n(67331),$e=function(e){var i,n,t=e.userSlug,l=function(e){var i,n=(0,I.aT1)(S.f6,{userSlug:e},{enabled:!!e,notifyOnChangeProps:["data"],select:function(e){var n;return null!==(i=null===(n=e.userProfilePublicProfile)||void 0===n?void 0:n.isFollowed)&&void 0!==i&&i}}).data,o=void 0!==n&&n,t=(0,q.useQueryClient)(),l=I.aT1.getKey({userSlug:e}),s=(0,X.v)((function(e){return e.questionSlug})),r=(o?I.$i1:I.MkQ)(S.f6,{onMutate:(0,Y.Z)((function(){var e;return(0,J.__generator)(this,(function(i){return e=t.getQueryData(l),t.setQueryData(l,(function(e){var i;return{userProfilePublicProfile:{isFollowed:!(null===e||void 0===e||null===(i=e.userProfilePublicProfile)||void 0===i?void 0:i.isFollowed)}}})),re.d.qdSubscribePostCnClick({qd_version:x.AQ,qd_question_slug:s}),[2,e]}))})),onError:function(e,i,n){t.setQueryData(l,n),(0,ie.defaultErrorHandler)(e)}}),a=r.mutateAsync;return{toggleFollow:(0,Ge.z)((function(){a({userSlug:e})})),isFollowed:o}}(t),s=l.toggleFollow,r=l.isFollowed,a=(0,ge.U)(),u=a.data,c=a.isLoading;return(null===u||void 0===u||null===(i=u.userStatus)||void 0===i?void 0:i.userSlug)===t||c?null:(0,o.jsx)(He.z,{variant:"plain",className:(0,g.yI)("ml-auto rounded-lg",(n={},(0,W.Z)(n,(0,g.yI)(j.Cj.label3,j.Cj.fill3,"border border-transparent"),r),(0,W.Z)(n,(0,g.yI)(j.Cj.labelGreenStandard,"border"),!r),n)),onClick:s,children:r?"\u5df2\u5173\u6ce8":(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(Qe.S,{className:"mr-1 h-4 w-4"}),"\u5173\u6ce8"]})})},ze=n(48087),Ve=n(11567),Ue=n(4401),We=n(15197),Ke=function(e){var i=e.className,n=e.solution,t=(0,c.$G)("solutions",{keyPrefix:"post"}).t,l=(0,ze.b)(),s=(0,de.r)(),r=n.author,a=[r.username],u=(0,Ee.E)(a).data,d=null===u||void 0===u?void 0:u[r.username],v=n.title.slice(0,100)+(n.title.length>100?"...":"");return(0,o.jsx)("div",{className:(0,g.yI)("w-full",i),children:(0,o.jsxs)("div",{className:"flex min-w-0 flex-col gap-4",children:[(0,o.jsxs)("div",{className:"flex items-start gap-3",children:[!l&&(0,o.jsx)(Ve.D,{userAvatar:r.userAvatar,username:r.username}),(0,o.jsx)("div",{className:(0,g.yI)("text-lg font-medium ",j.Cj.label1),style:{wordBreak:"break-all"},children:v}),h.ob&&(0,o.jsx)($e,{userSlug:r.username})]}),(0,o.jsxs)("div",{className:"flex items-center gap-4",children:[(0,o.jsx)(Ue.S,{realName:r.realName,username:r.username,badgeIcon:r.activeBadgeIcon||(null===d||void 0===d?void 0:d.activeBadgeIcon)||"",badgeName:r.activeBadgeName||(null===d||void 0===d?void 0:d.activeBadgeName)||"",userClassName:"font-normal",reputation:null===d||void 0===d?void 0:d.reputation}),h.Oo&&r.isAdmin&&(0,o.jsx)(ae.E,{icon:Le.f,label:t("isAdmin"),iconClassName:j.Cj.labelGrey6}),!n.isOfficial&&h.Oo&&(0,o.jsx)(ce.ua7,{label:t("reputationTooltip"),hasArrow:!1,color:s["gray-7"],children:(0,o.jsx)("div",{children:(0,o.jsx)(ae.E,{icon:Me,label:r.reputation,iconClassName:j.Cj.labelGrey6})})}),(0,o.jsx)(We.c,{timestamp:n.creationDate,formattedDateClassName:j.Cj.label2,iconClassName:j.Cj.labelGrey6}),!h.Oo&&n.ipRegion&&(0,o.jsxs)("span",{className:(0,g.yI)(j.Cj.label2,"flex-shrink-0 text-xs"),children:["\u53d1\u5e03\u4e8e ",n.ipRegion]})]})]})})},Xe=n(94312),Ye=n(62611),Je=function(){var e=(0,c.$G)("solutions",{keyPrefix:"post"}).t,i=(0,s.Z)((0,Xe.c)(window.location.href,{successDuration:1e3}),2),n=i[0],l=i[1],r=(0,t.useCallback)((function(){return l()}),[l]),a=(0,X.v)((function(e){return e.questionSlug}));return(0,t.useEffect)((function(){n&&(K.y.success(e("shareCopySuccess"),{itemClassName:j.Cj.bgLayer3}),re.d.qdSharePostClick({qd_version:x.AQ,qd_question_slug:a,qd_share_url:window.location.href}))}),[n,a,e]),(0,o.jsx)(ae.E,{icon:Ye.Q,iconClassName:(0,g.yI)("h-4.5 w-4.5",j.Cj.labelGrey7,j.M$.labelGrey8Group),label:e("share"),labelClassName:(0,g.yI)("text-md font-medium",j.M$.label1Group),className:"group cursor-pointer select-none",onClick:r})},ei=n(43955),ii=function(e){var i=e.topicId,n=(0,q.useQueryClient)();return(0,k.sbl)(S.f6,{onSuccess:function(e){var o,t,s;if(null===(o=e.votePost)||void 0===o?void 0:o.ok){var r=Number(null===(t=e.votePost)||void 0===t||null===(s=t.post)||void 0===s?void 0:s.voteStatus);n.invalidateQueries("communitySolutions"),ne({queryClient:n,topicId:i,cb:function(e){var i=e.topic.post.voteCount+(r-e.topic.post.voteStatus);return{topic:(0,N.Z)((0,l.Z)({},e.topic),{post:(0,N.Z)((0,l.Z)({},e.topic.post),{voteStatus:r,voteCount:i})})}}})}}})};function ni(e){return e===I.kt6.Upvote||e===I.kt6.ThumbsDown}var oi=function(e){var i=(0,q.useQueryClient)();return(0,I.ujV)(S.f6,{onSuccess:function(n,o){var t;if(null===(t=n.columnsAddReaction)||void 0===t?void 0:t.ok){var l=o.reactionType,s=I.ZL7.getKey({slug:e});i.setQueriesData(s,(function(e){var i=(0,ee.Z)(e);if(null===i||void 0===i?void 0:i.solutionArticle){var n,o=i.solutionArticle.reactionType;i.solutionArticle.reactionType=l,i.solutionArticle.reactionsV2||(i.solutionArticle.reactionsV2=[]),i.solutionArticle.reactionsV2.find((function(e){return e.reactionType===I.kt6.Upvote}))||i.solutionArticle.reactionsV2.push({count:0,reactionType:I.kt6.Upvote}),null===(n=i.solutionArticle.reactionsV2)||void 0===n||n.forEach((function(e){ni(o)&&ni(l)&&ni(e.reactionType)&&e.reactionType!==l&&e.count--,e.reactionType===l&&e.count++}))}return i}))}}})},ti=function(e){var i=(0,q.useQueryClient)();return(0,I.X0d)(S.f6,{onSuccess:function(n){var o;if(null===(o=n.columnsRemoveReaction)||void 0===o?void 0:o.ok){var t=I.ZL7.getKey({slug:e});i.setQueriesData(t,(function(e){var i=(0,ee.Z)(e);if(null===i||void 0===i?void 0:i.solutionArticle){var n,o=i.solutionArticle.reactionType;i.solutionArticle.reactionType=null,null===(n=i.solutionArticle.reactionsV2)||void 0===n||n.forEach((function(e){e.reactionType===o&&e.count--}))}return i}))}}})},li=h.Oo?function(e){var i=e.upvoted,n=e.topicId,o=e.postId,l=ii({topicId:n}),s=l.mutateAsync,r=l.isLoading,a=(0,t.useCallback)((function(){return s({postId:o,voteStatus:i?Z.i7.None:Z.i7.Upvote}).then((function(e){var i,n;return{ok:null===(i=e.votePost)||void 0===i?void 0:i.ok,error:null===(n=e.votePost)||void 0===n?void 0:n.error}}))}),[o,i,s]);return{mutateAsync:a,isLoading:r}}:function(e){var i=e.upvoted,n=e.articleId,o=e.slug,l=oi(o),s=l.mutateAsync,r=l.isLoading,a=ti(o),u=a.mutateAsync,c=a.isLoading,d=(0,t.useCallback)((function(){return i?u({articleId:n}).then((function(e){var i,n;return{ok:null===(i=e.columnsRemoveReaction)||void 0===i?void 0:i.ok,error:!(null===(n=e.columnsRemoveReaction)||void 0===n?void 0:n.ok)}})):s({articleId:n,reactionType:I.kt6.Upvote}).then((function(e){var i,n;return{ok:null===(i=e.columnsAddReaction)||void 0===i?void 0:i.ok,error:!(null===(n=e.columnsAddReaction)||void 0===n?void 0:n.ok)}}))}),[n,u,i,s]);return{mutateAsync:d,isLoading:c||r}},si=h.Oo?function(e){var i=e.downVoted,n=e.topicId,o=e.postId,l=ii({topicId:n}),s=l.mutateAsync,r=l.isLoading,a=(0,t.useCallback)((function(){return s({postId:o,voteStatus:i?Z.i7.None:Z.i7.Downvote}).then((function(e){var i,n;return{ok:null===(i=e.votePost)||void 0===i?void 0:i.ok,error:null===(n=e.votePost)||void 0===n?void 0:n.error}}))}),[o,i,s]);return{mutateAsync:a,isLoading:r}}:function(e){var i=e.downVoted,n=e.articleId,o=e.slug,l=oi(o),s=l.mutateAsync,r=l.isLoading,a=ti(o),u=a.mutateAsync,c=a.isLoading,d=(0,t.useCallback)((function(){return i?u({articleId:n}).then((function(e){var i,n;return{ok:null===(i=e.columnsRemoveReaction)||void 0===i?void 0:i.ok,error:!(null===(n=e.columnsRemoveReaction)||void 0===n?void 0:n.ok)}})):s({articleId:n,reactionType:I.kt6.ThumbsDown}).then((function(e){var i,n;return{ok:null===(i=e.columnsAddReaction)||void 0===i?void 0:i.ok,error:!(null===(n=e.columnsAddReaction)||void 0===n?void 0:n.ok)}}))}),[n,u,i,s]);return{mutateAsync:d,isLoading:c||r}},ri=n(80947),ai=n(72230),ui=n(38535),ci=n(88088),di=n(66855),vi=n(39643),fi=n(61347),mi=n(7570),pi=(0,s.Z)(h.Oo?[ri.X,ai.V,ui.v,ci.E]:[di.h,vi.C,fi.y,mi.j],4),xi=pi[0],gi=pi[1],hi=pi[2],ji=pi[3],bi=function(e){var i=e.Icon,n=e.className,t=e.onClick;return(0,o.jsx)("div",{className:(0,g.yI)("flex h-6 w-6 cursor-pointer items-center justify-center",n),onClick:t,children:(0,o.jsx)(i,{className:"h-4.5 w-4.5"})})},yi=function(e){var i=e.className,n=e.solution,l=e.hiddenThumbsDown,s=void 0!==l&&l,r=e.isInFloatingAction,a=void 0!==r&&r,u=(0,c.$G)("solutions",{keyPrefix:"post"}).t,d=n.voteCount,v=n.postId,f=n.id,m=n.reactionType,p=n.uuid,b=n.slug,y=(0,t.useState)(n.voteStatus),C=y[0],w=y[1];(0,t.useEffect)((function(){return w(n.voteStatus)}),[n.voteStatus]);var N,k=h.Oo?C===Z.i7.Upvote:!!m&&m!==I.kt6.ThumbsDown,S=h.Oo?C===Z.i7.Downvote:m===I.kt6.ThumbsDown,T=li({upvoted:k,topicId:f,articleId:p,postId:v,slug:b}),O=T.isLoading,P=T.mutateAsync,q=si({downVoted:S,topicId:f,articleId:p,postId:v,slug:b}),A=q.isLoading,B=q.mutateAsync,R=(0,X.v)((function(e){return e.questionSlug})),_=(0,ei.r)(),D=_.isSignedIn,F=_.isVerified,L=h.Oo&&(!D||!F),M=(0,t.useCallback)((function(){D?F||K.y.error(u("verifyVoteError")):K.y.error(u("signInVoteError"))}),[D,F,u]),E=(0,t.useCallback)((function(){L?M():P().then((function(e){var i=e.ok,n=e.error;!i&&K.y.error(null!==n&&void 0!==n?n:u("genericError"),{itemClassName:j.Cj.bgLayer3}),i&&re.d.qdUpVotePostClick({qd_version:x.AQ,qd_question_slug:R,qd_up_vote_pos:a?"floating_bar":"bottom_bar"})}))}),[P,u,R,a,L,M]),G=(0,t.useCallback)((function(){L?M():B().then((function(e){var i=e.ok,n=e.error;!i&&K.y.error(null!==n&&void 0!==n?n:u("genericError"),{itemClassName:j.Cj.bgLayer3}),i&&re.d.qdDownVotePostClick({qd_version:x.AQ,qd_question_slug:R})}))}),[B,u,R,L,M]),H=(0,g.yI)(j.Cj.labelGrey7,j.Cj.labelGrey8Hover);return(0,o.jsxs)("div",{className:(0,g.yI)("flex items-center justify-center gap-1.5",i),children:[(0,o.jsx)(bi,{Icon:k?gi:xi,className:k?h.Oo?j.Cj.labelGreenStandard:j.Cj.labelBlueStandard:H,onClick:O?void 0:E}),(0,o.jsx)("div",{className:(0,g.yI)(k&&h.ob?j.Cj.labelBlueStandard:j.Cj.label2,"text-center text-md font-medium"),children:d}),!s&&(0,o.jsx)(bi,{Icon:S?ji:hi,className:(0,g.yI)((N={},(0,W.Z)(N,j.Cj.labelGrey8,S&&h.Oo),(0,W.Z)(N,j.Cj.labelRedStandard,S&&!h.Oo),(0,W.Z)(N,H,!S),(0,W.Z)(N,"ml-3",!h.Oo),N)),onClick:A?void 0:G})]})},Ci=n(73670),wi=n(94713),Ni=function(e){var i=e.actionsDom,n=e.solution,l=(0,Ci.s)(i,{threshold:1}),s=(0,t.useMemo)((function(){return!!i&&(i.getBoundingClientRect().top>=0&&!(null===l||void 0===l?void 0:l.isIntersecting))}),[i,null===l||void 0===l?void 0:l.isIntersecting]),r=(0,X.v)((function(e){return e.questionSlug})),a=(0,R.yU)().commentsTopAnchor,u=(0,t.useCallback)((function(){null===a||void 0===a||a.scrollIntoView({behavior:"smooth"}),re.d.qdViewPostCommentClick({qd_version:x.AQ,qd_question_slug:r})}),[a,r]);return(0,o.jsxs)("div",{className:(0,g.yI)(j.Cj.bgLayer3,j.eq.card,"cursor-pointer rounded-full","fixed bottom-4 flex items-center justify-center gap-3","h-10 px-4 transition-[opacity,_transform] duration-500",{"translate-y-0":s,"translate-y-[200%]":!s}),children:[(0,o.jsx)(yi,{solution:n,hiddenThumbsDown:!0,isInFloatingAction:!0}),(0,o.jsx)(F.i,{orientation:"vertical",className:"h-3"}),(0,o.jsx)(ue,{hasLabel:!1,solution:n,isInFloatingAction:!0}),(0,o.jsx)(F.i,{orientation:"vertical",className:"h-3"}),(0,o.jsx)(ae.E,{icon:wi.h,iconClassName:(0,g.yI)("h-4.5 w-4.5",j.Cj.labelGrey7,j.M$.labelGrey8Group),onClick:u})]})},ki=n(14249),Ii=n(32180),Si=h.Oo?function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,N.Z)((0,l.Z)({},(0,Ii.Z)(e,["page","perPage"])),{skip:(e.page-1)*e.perPage,first:e.perPage});return(0,k.sN1)(S.f6,(0,l.Z)({},n),(0,N.Z)((0,l.Z)({},i),{enabled:Boolean(e.questionSlug),select:function(e){var i=e.prevSolution,n=e.nextSolution;return i||n?{prevSolution:i?{topicId:i.id,title:i.title}:void 0,nextSolution:n?{topicId:n.id,title:n.title}:void 0}:{prevSolution:void 0,nextSolution:void 0}}}))}:function(e){var i=(0,N.Z)((0,l.Z)({},(0,Ii.Z)(e,["page","perPage"])),{skip:(e.page-1)*e.perPage,first:e.perPage});return(0,q.useQuery)(k.sN1.getKey(i),(function(){return{prevSolution:void 0,nextSolution:void 0}}))},Ti=n(21950),Zi=n(94424),Oi=n(50077),Pi=function(e){var i=e.className,n=e.placement,l=e.questionSlug,s=e.topicId,r=e.title,a=(0,c.$G)("solutions",{keyPrefix:"post"}).t,u=(0,Ti.o)(r),d=m.Hb.solutions(l,s,u),v="left"===n,f="right"===n,p=v?Zi.D:Oi.E,h=a(v?"prevLabel":"nextLabel"),y=(0,X.v)((function(e){return e.questionSlug})),C=(0,t.useCallback)((function(e){e.preventDefault(),window.scrollTo({top:0,behavior:"auto"}),(0,b.aq)({topicId:s,topicTitleSlug:u}),re.d.qdPrevNextPostClick({qd_version:x.AQ,qd_question_slug:y,qd_post_switch_type:v?"prev":"next"})}),[v,y,s,u]);return(0,o.jsxs)(ve.r,{href:d,className:(0,g.yI)(j.Cj.fill3,j.Cj.fill2Hover,"flex min-w-0 justify-between gap-3 rounded-lg py-3 pl-3 pr-4",i),onClick:C,children:[(0,o.jsx)("div",{className:(0,g.yI)("flex h-full items-center",{"order-1":v,"order-2":f}),children:(0,o.jsx)(p,{className:(0,g.yI)(j.Cj.labelGrey5,"h-4 w-4")})}),(0,o.jsxs)("div",{className:(0,g.yI)("flex w-full flex-col gap-1 overflow-hidden",{"order-2":v,"order-1":f}),children:[(0,o.jsx)("div",{className:(0,g.yI)(j.Cj.label3,"text-[11px] font-medium leading-[13px]",{"text-right":v,"text-left":f}),children:h}),(0,o.jsx)("div",{className:(0,g.yI)(j.Cj.label1,"truncate text-md font-medium",{"text-right":v,"text-left":f}),children:r})]})]})},qi=function(){return(0,o.jsxs)("div",{className:"flex justify-between gap-4",children:[(0,o.jsx)(ki.a,{className:"h-[64px] w-full"}),(0,o.jsx)(ki.a,{className:"h-[64px] w-full"})]})},Ai=function(e){var i=e.topicId,n=(0,b.cm)((function(e){return e.questionSlug})),t=(0,Pe.n)().filters,s=Si((0,N.Z)((0,l.Z)({},t),{topicId:i,questionSlug:n})),r=s.isLoading,a=s.data;if(r||!a)return(0,o.jsx)(qi,{});var u=a.prevSolution,c=a.nextSolution;return(0,o.jsxs)("div",{className:"flex justify-between gap-4",children:[u&&(0,o.jsx)(Pi,{className:"w-full",placement:"left",questionSlug:n,topicId:u.topicId,title:u.title}),c&&(0,o.jsx)(Pi,{className:"w-full",placement:"right",questionSlug:n,topicId:c.topicId,title:c.title})]})},Bi=n(88150),Ri=n.n(Bi),_i={highlight:!0,gfm:!0,math:!0,html:!0,mcqs:h.Oo,diaporama:h.Oo,imageSize:!0,embedVideos:h.Oo,normalVideo:h.ob,groupedCode:!0,relAttribute:!0,httpsImagesOnly:h.Oo,premiumOnlyVideo:h.Oo,htmlSanitization:!0,nodebbImageTransformation:h.Oo,brokenImageHolder:!0,linkSift:h.ob,linkTargetBlank:!0,aliPlayerVideo:h.ob,slides:h.ob,toc:!0},Di=(0,D.t)(Object.assign({},_i,{preserveLineBreaks:h.Oo})),Fi=(0,D.t)(Object.assign({},_i,{preserveLineBreaks:!1})),Li=function(e){var i,n=e.solution,l=n.isOfficial,s=(0,t.useState)(null),r=s[0],a=s[1],u=n.isOfficial?null===n||void 0===n||null===(i=n.content)||void 0===i?void 0:i.replace(/\[toc\]/gi,""):null===n||void 0===n?void 0:n.content,c=!l||h.ob,v=function(){var e=(0,d.useRouter)();return(0,t.useMemo)((function(){return new URL("".concat(M.jY).concat(e.asPath))}),[e.asPath])}(),f=(0,t.useMemo)((function(){var e;return{author:null!==(e=n.author.realName)&&void 0!==e?e:n.author.username,link:"".concat(v.origin).concat(v.pathname)}}),[n.author.realName,n.author.username,v.origin,v.pathname]),m=(0,L.d1)(f);return(0,o.jsxs)("div",{className:"flex w-full flex-col gap-4 px-5 pt-4 pb-8",children:[(0,o.jsx)("div",{children:(0,o.jsx)(Ke,{solution:n})}),(0,o.jsx)("div",{className:"break-words",onCopy:m,children:(0,o.jsx)(U,{children:(0,o.jsx)(L.yT,{value:f,children:l?(0,o.jsx)(Fi,{content:u||"",customStyles:Ri()}):(0,o.jsx)(Di,{content:u||"",customStyles:Ri()})})})}),c&&(0,o.jsx)("div",{className:"flex w-full justify-center z-message",children:(0,o.jsx)(Ni,{solution:n,actionsDom:r})}),(0,o.jsxs)("div",{className:"mb-4 flex w-full items-center justify-between",ref:a,children:[(0,o.jsxs)("div",{className:"flex items-center gap-6",children:[(!l||h.ob)&&(0,o.jsx)(yi,{solution:n}),h.Oo&&!l&&(0,o.jsx)(F.i,{orientation:"vertical",className:(0,g.yI)("-mx-3 h-3",j.Cj.divider3)}),(0,o.jsx)(Je,{}),(!l||h.ob)&&(0,o.jsx)(ue,{solution:n,hasLabel:!0})]}),(0,o.jsxs)("div",{className:"flex items-center gap-4",children:[l&&h.Oo&&(0,o.jsx)(me,{}),(0,o.jsx)(Fe,{solution:n,placement:"top"})]})]}),(0,o.jsx)(Ai,{topicId:n.id})]})},Mi=n(24955),Ei=n(59421),Gi=n(71290),Hi=n(5797),Qi=n(27459),$i=n(11491),zi=function(e){var i,n=e.index,l=e.fill,r=e.onHoverChange,a=e.onClick,u=e.className,c=(0,t.useRef)(null),d=(0,s.Z)((0,$i.X)(),2),v=d[0],f=d[1];return(0,t.useEffect)((function(){c.current&&v(c.current)}),[c,v]),(0,t.useEffect)((function(){r&&r(n,f)}),[n,f,r]),(0,o.jsx)("div",{className:"cursor-pointer px-1",onClick:function(){a&&a(n)},ref:c,children:(0,o.jsx)(le.z,{className:(0,g.yI)("h-4 w-4",(i={},(0,W.Z)(i,j.Cj.labelGrey4,!l),(0,W.Z)(i,j.Cj.labelYellow,l),i),u)})})},Vi=function(e){var i=e.percent,n=e.onClick,l=(0,t.useState)(!1),s=l[0],r=l[1],a=(0,t.useState)(0),u=a[0],c=a[1],d=(0,t.useCallback)((function(e,i){r(i),i&&c(e)}),[]),v=[1,2,3,4,5],f=s?20*u:i;return(0,o.jsxs)("div",{className:"relative hidden lc-md:block",children:[(0,o.jsx)("div",{className:"flex items-center",children:v.map((function(e){return(0,o.jsx)(zi,{index:e,fill:!1,onClick:n,onHoverChange:d},e)}))}),(0,o.jsx)("div",{className:"pointer-events-none absolute top-0 left-0 flex items-center overflow-hidden",style:{width:"".concat(f,"%")},children:v.map((function(e){return(0,o.jsx)(zi,{index:e,fill:!0,className:"flex-none"},e)}))})]})},Ui=function(e){var i=e.className,n=e.solution,l=(0,c.$G)("solutions",{keyPrefix:"post"}).t,s=(0,b.cm)((function(e){return e.questionSlug})),r=function(e){var i=(0,q.useQueryClient)();return(0,k.Hth)(S.f6,{onSuccess:function(n){var o;(null===(o=n.rateArticle)||void 0===o?void 0:o.ok)&&i.invalidateQueries(k.gKm.getKey({titleSlug:e}))}})}(s).mutateAsync,a=(0,t.useCallback)((function(e){r({contentTypeId:n.contentTypeId,objectId:n.solutionId,score:e}).then((function(e){var i,n,o;(null===(i=e.rateArticle)||void 0===i?void 0:i.ok)?K.y.success(l("rateSuccess"),{itemClassName:j.Cj.bgLayer3}):K.y.error(null!==(o=null===(n=e.rateArticle)||void 0===n?void 0:n.error)&&void 0!==o?o:l("genericError"),{itemClassName:j.Cj.bgLayer3})}))}),[r,n,l]),u=(0,Qi.ZP)(n.starRating,{precision:2}),d=n.starRatingCount,v=100*n.starRating/5;return(0,o.jsxs)("div",{className:(0,g.yI)("flex items-center gap-2 pl-4",i),children:[(0,o.jsxs)("div",{className:(0,g.yI)("flex gap-0.5 text-xs"),children:[(0,o.jsx)("div",{className:(0,g.yI)("font-medium",j.Cj.label1),children:u}),d&&(0,o.jsx)("div",{className:(0,g.yI)(j.Cj.label2),children:l("votes",{votesCount:d})})]}),(0,o.jsx)(Vi,{percent:v,onClick:a})]})},Wi=function(e){var i,n,l,s,r,a,u,c,d,v,f,m=e.className,p=e.questionSlug,y=e.solution,C=null===(i=(0,ge.U)().data)||void 0===i||null===(n=i.userStatus)||void 0===n?void 0:n.useTranslation,w=(null===(l=(0,Ei.K)(p).data)||void 0===l?void 0:l.title)||"",N=(null===(s=(0,Gi.z)(C?p:"").data)||void 0===s?void 0:s.translatedTitle)||"",k=C&&N||w,S=(null===(r=(0,ge.U)().data)||void 0===r||null===(a=r.userStatus)||void 0===a?void 0:a.isAdmin)||!1,T=Boolean(null===(u=(0,ge.U)().data)||void 0===u||null===(c=u.userStatus)||void 0===c?void 0:c.isSignedIn),O=Boolean(null===(d=(0,ge.U)().data)||void 0===d||null===(v=d.userStatus)||void 0===v?void 0:v.isPremium),P=Boolean(y.isOfficial),q=(0,Mi.v)(y.author.username),A=(0,t.useCallback)((function(){re.d.qdLeavePostClick({qd_version:x.AQ,qd_question_slug:p}),(0,b.aq)({},!0)}),[p]);return(0,o.jsxs)("div",{className:(0,g.yI)("flex w-full items-center justify-between border-b",j.Cj.divider3,m),children:[(0,o.jsxs)("button",{className:(0,g.yI)("group flex cursor-pointer items-center justify-start gap-4 overflow-hidden"),onClick:A,children:[(0,o.jsx)("div",{className:"h-4 w-4 flex-none",children:(0,o.jsx)(Zi.D,{className:(0,g.yI)("h-full w-full",j.Cj.labelGrey7,j.M$.labelGrey8Group)})}),(0,o.jsx)(Hi.J,{className:(0,g.yI)("text-base font-medium",j.Cj.label2,j.M$.label1Group),title:k,showArrow:!1,children:k}),S&&h.Oo&&(0,o.jsx)("div",{className:(0,g.yI)("flex-none rounded-md px-2 text-base font-medium",j.Cj.fill2,j.Cj.label2,(f={},(0,W.Z)(f,j.Cj.labelRed,y.status===Z.$4.Deleted),(0,W.Z)(f,j.Cj.labelBlueStandard,y.status===Z.$4.Hidden),f)),children:y.status})]}),h.ob&&[Z.$4.Pending,I.af_.Checking].includes(y.status)&&q&&(0,o.jsx)("div",{className:(0,g.yI)(j.Cj.label3,"ml-auto mr-4 text-xs"),children:"\u5ba1\u6838\u4e2d"}),(0,o.jsxs)("div",{className:(0,g.yI)("flex flex-none items-center gap-3",{hidden:y.isPremium&&!O||!T}),children:[P&&h.Oo&&(0,o.jsx)(Ui,{solution:y}),(0,o.jsx)("div",{className:"hidden h-4.5 w-4.5 lc-md:block",children:(0,o.jsx)(Fe,{solution:y,placement:"bottom"})})]})]})},Ki=n(29732),Xi=function(e){var i=e.className,n=e.label,t=e.value;return(0,o.jsxs)("div",{className:(0,g.yI)("flex justify-between",i),children:[(0,o.jsx)("div",{className:(0,g.yI)("text-md font-medium",j.Cj.label3),children:n}),(0,o.jsx)("div",{className:(0,g.yI)("flex items-center justify-center rounded-[5px] py-0.5 px-2 text-xs font-medium",j.Cj.label1,j.Cj.fill2),children:t})]})},Yi=n(7431),Ji=n(89361),en=function(e){var i=e.tags,n=e.title,t=e.isOfficial,l=e.isPinned,s=e.isOwnPost,r=(0,c.$G)("solutions",{keyPrefix:"tags"}).t;return(0,o.jsxs)("div",{className:"flex w-full flex-col items-start gap-2",children:[(0,o.jsx)("span",{className:(0,g.yI)("text-md font-medium",j.Cj.label3),children:n}),(0,o.jsxs)("div",{className:"flex w-full flex-wrap items-start gap-2",children:[t&&(0,o.jsx)(Ji.S,{text:r("official"),color:"orange",className:"shrink-0 rounded-full"}),l&&(0,o.jsx)(Ji.S,{text:r("pinned"),color:"green",className:"shrink-0 rounded-full"}),s&&(0,o.jsx)(Ji.S,{text:r("mySolution"),color:"blue",className:"shrink-0 rounded-full"}),i.map((function(e){return(0,o.jsx)(Yi.V,{text:e,className:"py-0.5"},e)}))]})]})},nn=n(75507),on=function(e){var i=e.topicId,n=e.title,l=e.className,s=e.children,r=e.slug,a=(0,b.cm)((function(e){return e.questionSlug})),u=r||(0,Ti.o)(n),c=(0,t.useCallback)((function(e){e.preventDefault(),(0,b.aq)({topicId:i,topicTitleSlug:u}),(0,y.WW)({},!0)}),[i,u]);return(0,o.jsx)(ve.r,{href:m.Hb.solutions(a,i,u),onClick:c,className:l,children:s})},tn=function(e){var i=e.id,n=e.author,t=e.title,l=e.tags,s=e.slug;return(0,o.jsx)(on,{topicId:i,title:t,slug:s,children:(0,o.jsxs)("div",{className:(0,g.yI)("flex w-full gap-3 rounded-lg py-2 px-2",j.Cj.fill4Hover),children:[(0,o.jsx)(Ve.D,{userAvatar:n.userAvatar,username:n.username,imgClassName:"w-6 h-6 flex-none",clickable:!1}),(0,o.jsxs)("div",{className:"flex flex-1 flex-col gap-2 overflow-hidden",children:[(0,o.jsx)(Hi.J,{className:(0,g.yI)("text-md font-medium",j.Cj.label1),title:t,showArrow:!1,children:t}),l.length>0&&(0,o.jsx)(nn.P,{tags:l,tagClassName:"py-0.5"})]})]})})},ln=n(97425),sn=t.forwardRef((function(e,i){return(0,o.jsx)("svg",(0,N.Z)((0,l.Z)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:i},e),{children:(0,o.jsx)("path",{fillRule:"evenodd",d:"M20 5a1 1 0 100-2H4a1 1 0 000 2h16zm.207 9.707a1 1 0 01-1.414 0L13 8.914V21a1 1 0 11-2 0V8.914l-5.793 5.793a1 1 0 01-1.414-1.414L10.586 6.5a2 2 0 012.828 0l6.793 6.793a1 1 0 010 1.414z",clipRule:"evenodd"})}))})),rn=function(){var e,i=(0,c.$G)("solutions",{keyPrefix:"post"}).t,n=(0,t.useState)(null),l=n[0],s=n[1],r=(0,t.useState)(null),a=r[0],u=r[1],d=(0,Ci.s)(l,{threshold:0}),v=(0,ln.i)().height,f=null!==(e=null===d||void 0===d?void 0:d.isIntersecting)&&void 0!==e&&e,m=(0,t.useMemo)((function(){if(!a)return 0;var e=document.body.getBoundingClientRect().top,i=a.getBoundingClientRect().top-e;return Number(v)-i+300}),[a,v]),p=(0,t.useCallback)((function(){l&&window.scrollTo({top:0,behavior:"smooth"})}),[l]);return(0,o.jsxs)("div",{className:"relative flex w-full flex-1 flex-col overflow-hidden",children:[(0,o.jsxs)("div",{className:"absolute top-0 left-0 flex h-full w-full flex-col",children:[(0,o.jsx)("div",{className:"w-full flex-none",style:{height:m},ref:u}),(0,o.jsx)("div",{className:(0,g.yI)("w-full flex-1"),ref:s})]}),(0,o.jsxs)("div",{onClick:p,className:(0,g.yI)(j.Cj.bgLayer1,j.M$.bgLayer2,j.eq.card,"cursor-pointer rounded-full","fixed bottom-4 flex items-center justify-center gap-2","h-10 p-4 px-4 transition-[bottom,_transform] duration-500",{"translate-y-0":f,"translate-y-[200%]":!f}),children:[(0,o.jsx)(sn,{className:(0,g.yI)("h-4 w-4",j.Cj.labelGrey5)}),(0,o.jsx)("div",{className:(0,g.yI)("text-md font-medium",j.Cj.label2),children:i("backToTop")})]})]})},an=function(e){var i,n=e.solution,t=e.className,l=(0,c.$G)("solutions",{keyPrefix:"sidebar"}).t,s=n.commentCount,r=n.favoriteCount,a=n.viewCount,u=n.tags,d=n.isOfficial,v=n.isPinned,f=n.isOwnPost,m=d||v||f||u.length>0,p=(i=n.uuid,(0,I.PX_)(S.f6,{uuid:i},{enabled:!!i&&h.ob,select:function(e){return(0,Ki.Z)(e.columnsRecommendedContents.map((function(e){var i,n;return"RecommendedArticleNode"===e.__typename&&e.topicId?{title:e.title,id:Number(e.topicId),slug:e.slug,tags:e.tags.map((function(e){return e.nameTranslated||e.name})),author:{userAvatar:(null===(i=e.author)||void 0===i?void 0:i.userAvatar)||"",username:(null===(n=e.author)||void 0===n?void 0:n.username)||""}}:null})))}})).data,x=n.relatedSolutions||p,b=x&&(null===x||void 0===x?void 0:x.length)>0;return(0,o.jsxs)("div",{className:(0,g.yI)("flex flex-col gap-4",t),children:[(0,o.jsxs)(B.Z,{className:"flex w-full flex-col gap-4 rounded-xl p-4",children:[(0,o.jsx)(Xi,{label:l("comments"),value:(0,Qi.ZP)(s)}),!d&&(0,o.jsx)(Xi,{label:l("favorite"),value:(0,Qi.ZP)(r)}),(0,o.jsx)(Xi,{label:l("views"),value:(0,Qi.ZP)(a)}),m&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(F.i,{}),(0,o.jsx)(en,{tags:u,title:l("relatedTags"),isOfficial:d,isPinned:v,isOwnPost:f})]})]}),b&&(0,o.jsxs)(B.Z,{className:"sticky top-4 flex w-full flex-col rounded-xl py-4 px-2 z-base-1",children:[(0,o.jsx)("span",{className:(0,g.yI)("mx-2 mb-2 text-md font-medium",j.Cj.label2),children:l("relatedSolutions")}),(0,o.jsx)("div",{className:"flex w-full flex-col",children:null===x||void 0===x?void 0:x.map((function(e,i){return(0,o.jsx)(tn,{id:e.id,author:e.author,title:e.title,tags:e.tags,slug:e.slug},"".concat(e.id,":").concat(i))}))})]}),(0,o.jsx)(rn,{})]})},un=n(99437),cn=function(){var e=(0,c.$G)("solutions",{keyPrefix:"blocker"}).t;return(0,o.jsx)("div",{className:(0,g.yI)("absolute top-0 left-0 flex h-full w-full justify-center rounded-xl pt-[145px] backdrop-blur-sm",j.Cj.bgBlocker),children:(0,o.jsxs)("div",{className:"flex max-w-[350px] flex-col items-center gap-6",children:[(0,o.jsx)(un.d,{className:(0,g.yI)("h-16 w-16",j.Cj.labelBrandOrange)}),(0,o.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,o.jsx)("div",{className:(0,g.yI)("text-2xl font-medium",j.Cj.label1),children:e("subscribeToUnlock")}),(0,o.jsx)("div",{className:(0,g.yI)("text-center text-sm",j.Cj.label2),children:e("subscribeSubTitle")})]}),(0,o.jsx)(ve.r,{href:m.Hb.premium("qd3_ps"),isExternal:!0,className:(0,g.yI)("cursor-pointer rounded-lg px-4 py-[5px] font-medium",j.Cj.bgBrandOrange,j.Cj.labelWhite,j.M$.labelWhite),children:e("subscribe")})]})})},dn=n(50293),vn=function(e){var i=e.itemsCount,n=Array(i).fill(null);return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(dn.O,{className:(0,g.yI)("flex w-full min-w-0 flex-col gap-4",j.Cj.bgLayer1),children:[(0,o.jsxs)("div",{className:"flex w-full justify-between",children:[(0,o.jsxs)("div",{className:"flex gap-2",children:[(0,o.jsx)(ki.a,{className:"h-6 w-[64px]"}),(0,o.jsx)(ki.a,{className:"h-6 w-[64px]"})]}),(0,o.jsx)(ki.a,{className:"h-6 w-[64px]"})]}),(0,o.jsx)(ki.a,{className:"h-[140px] w-full"}),n.map((function(e,i){return(0,o.jsxs)("div",{className:"flex flex-col gap-2 pt-2",children:[(0,o.jsxs)("div",{className:"flex w-full gap-3",children:[(0,o.jsx)(ki.a,{className:"h-10 w-10 min-w-[40px] rounded-full"}),(0,o.jsxs)("div",{className:"flex w-full flex-col gap-2",children:[(0,o.jsx)(ki.a,{className:"h-4 w-[20%]"}),(0,o.jsx)(ki.a,{className:"h-4 w-[25%]"})]})]}),(0,o.jsx)(ki.a,{className:"h-4 w-full"}),(0,o.jsx)(ki.a,{className:"h-4 w-[40%]"})]},i)}))]})})},fn=function(){return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(dn.O,{className:(0,g.yI)("flex w-full min-w-0 flex-col rounded-xl lc-lg:max-w-[700px]",j.Cj.bgLayer1),children:[(0,o.jsxs)("div",{className:(0,g.yI)("flex h-12 w-full items-center justify-between gap-4 border-b px-5",j.Cj.divider3),children:[(0,o.jsxs)("div",{className:"flex gap-8",children:[(0,o.jsx)(ki.a,{className:"h-4 w-4 max-w-[16px] rounded-full"}),(0,o.jsx)(ki.a,{className:"h-4 w-[72px]"})]}),(0,o.jsx)(ki.a,{className:"mr-1 h-4 w-4 max-w-[16px] rounded-full"})]}),(0,o.jsxs)("div",{className:"flex w-full flex-col gap-4 px-5 pt-4",children:[(0,o.jsxs)("div",{className:"flex items-center gap-4",children:[(0,o.jsx)(ki.a,{className:"h-10 w-10 max-w-[40px] rounded-full"}),(0,o.jsx)(ki.a,{className:"h-8 w-[30%]"})]}),(0,o.jsx)("div",{className:"flex gap-4",children:Array(4).fill(null).map((function(e,i){return(0,o.jsx)(ki.a,{className:"h-4 w-[8%]"},i)}))}),(0,o.jsx)("div",{className:"flex flex-col gap-4",children:Array(8).fill(null).map((function(e,i){return(0,o.jsx)(ki.a,{className:(0,g.yI)("h-4",i%2===0?"w-full":"w-[50%]")},i)}))}),(0,o.jsxs)("div",{className:"flex gap-6",children:[(0,o.jsxs)("div",{className:"flex gap-2",children:[(0,o.jsx)(ki.a,{className:"h-4 w-4"}),(0,o.jsx)(ki.a,{className:"h-4 w-8"}),(0,o.jsx)(ki.a,{className:"h-4 w-4"})]}),(0,o.jsxs)("div",{className:"flex gap-2",children:[(0,o.jsx)(ki.a,{className:"h-4 w-4"}),(0,o.jsx)(ki.a,{className:"h-4 w-8"})]}),(0,o.jsxs)("div",{className:"flex gap-2",children:[(0,o.jsx)(ki.a,{className:"h-4 w-4"}),(0,o.jsx)(ki.a,{className:"h-4 w-8"})]})]}),(0,o.jsxs)("div",{className:"flex gap-5",children:[(0,o.jsx)(ki.a,{className:"h-[64px] w-full"}),(0,o.jsx)(ki.a,{className:"h-[64px] w-full"})]}),(0,o.jsx)(vn,{itemsCount:10})]})]}),(0,o.jsxs)(dn.O,{className:"hidden gap-4 lc-lg:flex lc-lg:min-w-[256px] lc-lg:flex-col",children:[(0,o.jsxs)(B.Z,{className:"flex w-full flex-col gap-4 rounded-xl p-4",children:[Array(3).fill(null).map((function(e,i){return(0,o.jsxs)("div",{className:"flex justify-between",children:[(0,o.jsx)(ki.a,{className:"h-5 w-[100px]"}),(0,o.jsx)(ki.a,{className:"h-5 w-5"})]},i)})),(0,o.jsx)(F.i,{}),(0,o.jsx)(ki.a,{className:"h-5 w-[30%]"}),(0,o.jsx)(ki.a,{className:"h-5 w-full"})]}),(0,o.jsxs)(B.Z,{className:"flex w-full flex-col gap-5 rounded-xl p-4",children:[(0,o.jsx)(ki.a,{className:"h-5 w-[30%]"}),Array(3).fill(null).map((function(e,i){return(0,o.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,o.jsxs)("div",{className:"flex gap-3",children:[(0,o.jsx)(ki.a,{className:"h-5 w-5 rounded-full"}),(0,o.jsx)(ki.a,{className:"h-5 w-[64px]"})]}),(0,o.jsxs)("div",{className:"flex gap-3",children:[(0,o.jsx)(ki.a,{className:"h-5 w-10 rounded-full"}),(0,o.jsx)(ki.a,{className:"h-5 w-10 rounded-full"}),(0,o.jsx)(ki.a,{className:"h-5 w-10 rounded-full"})]})]},i)}))]})]})]})},mn=n(93911),pn=n(25913),xn=n(62089),gn=function(e){var i=e.questionTitleSlug,n=(0,_.D)(),l=(0,b.cm)((function(e){return e.topicId})),s=(0,b.cm)((function(e){return e.topicTitleSlug}))||"",r=(0,b.cm)((function(e){return e.commentId})),a=P({topicId:l,slug:s},{enabled:Boolean(l)}),u=a.isLoading,c=a.data,d=a.isFetched,f=[null===c||void 0===c?void 0:c.communitySolution,null===c||void 0===c?void 0:c.hasOfficialSolution],p=f[0],x=f[1],y=A(p,{titleSlug:i},{enabled:x}),C=y.isLoading,N=y.data,k=x?C:u,I=x?N:p,S=(0,xn.$)(I),T=(0,t.useState)(null),Z=T[0],O=T[1],q=(0,w.a)(Z,{throttle:250}).width,D=(0,mn.p)((function(e){return e.setContainerWidth})),F=(0,R.yZ)((function(e){return e.setContainerWidth})),L=(0,R.yZ)((function(e){return e.setQuestionSlug}));(0,t.useEffect)((function(){D(q),F(q)}),[D,F,q]),(0,t.useEffect)((function(){L(i)}),[L,i]);var M=k||!I||!n;return(0,t.useEffect)((function(){d&&!(null===c||void 0===c?void 0:c.communitySolution)&&h.ob&&v().push(m.Hb.notFound())}),[c,d]),h.ob&&!s?null:(0,o.jsx)("div",{className:"h-full w-full",children:(0,o.jsx)("div",{className:"flex h-full w-full items-start justify-center",children:(0,o.jsxs)("div",{className:"flex w-full max-w-[1020px] gap-4 py-4 px-4",children:[M&&(0,o.jsx)(fn,{}),!M&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(B.Z,{className:(0,g.yI)("flex w-full min-w-0 flex-col rounded-xl lc-lg:max-w-[700px]",j.Cj.bgLayer1),ref:O,children:[(0,o.jsx)(Wi,{solution:I,questionSlug:i,className:"min-h-[48px] px-5"}),(0,o.jsxs)("div",{className:"relative flex w-full flex-col",children:[(0,o.jsx)(Li,{solution:I}),(0,o.jsx)("div",{className:"h-full",children:(0,o.jsx)(pn.Z,{topicId:I.id,commentCount:I.commentCount,commentId:r,layoutType:I.isOfficial?R.Dk.OfficialSolution:R.Dk.Solution,hideComments:!S})}),!S&&(0,o.jsx)(cn,{})]})]}),(0,o.jsx)(an,{solution:I,className:"hidden lc-lg:flex lc-lg:w-[250px] lc-lg:min-w-[250px]"})]})]})})})},hn=n(94184),jn=n.n(hn),bn=n(86510),yn=function(){return(0,o.jsx)("div",{className:"h-full w-full",children:(0,o.jsx)("div",{className:"flex h-full w-full items-start justify-center",children:(0,o.jsx)("div",{className:"flex w-full max-w-[1020px] gap-4 py-4 px-4",children:(0,o.jsx)(fn,{})})})})},Cn=function(e){var i=e.title,n=e.description;return(0,o.jsxs)("div",{className:"flex min-h-[599px] w-full flex-col items-center justify-center",children:[(0,o.jsx)(bn.F,{}),i&&(0,o.jsx)("h3",{className:jn()("mt-[32px] text-center text-base",j.Cj.labelGrey8),children:i}),n&&(0,o.jsx)("p",{className:jn()("mt-[12px] text-center text-xs",j.Cj.label4),children:n})]})},wn=function(e){var i,n,t=e.questionTitleSlug,s=(0,_.D)(),r=(0,b.cm)((function(e){return e.topicId})),a=(0,b.cm)((function(e){return e.topicTitleSlug}))||"",u=(0,ge.U)().data,c=function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,I._tT)(S.f6,{slug:e.slug},(0,N.Z)((0,l.Z)({enabled:!!e.slug},i),{select:function(e){var i,n,o=e.solutionArticle;return o?{hasOfficialSolution:!1,communitySolution:{author:{username:null!==(n=null===(i=o.author)||void 0===i?void 0:i.profile.userSlug)&&void 0!==n?n:""},status:o.status}}:{communitySolution:null,hasOfficialSolution:!1}}}))}({topicId:r,slug:a},{enabled:Boolean(r)}),d=c.isLoading,v=c.data,f=d,m=null!==(n=null===v||void 0===v?void 0:v.communitySolution)&&void 0!==n?n:{},p=m.status,x=m.author;return h.ob&&!a?(0,o.jsx)(yn,{}):f||(null===v||void 0===v?void 0:v.communitySolution)?f||!v||!p||!x||!s?(0,o.jsx)(yn,{}):p===I.af_.Offline?(0,o.jsx)(Cn,{title:"\u54a6\uff1f\u5185\u5bb9\u4e0d\u89c1\u5566\uff1f",description:"\u56e0\u5185\u5bb9\u8fdd\u53cd\u300a\u4e92\u8054\u7f51\u7528\u6237\u516c\u4f17\u8d26\u53f7\u4fe1\u606f\u670d\u52a1\u7ba1\u7406\u89c4\u5b9a\u300b\u6216\u793e\u533a\u89c4\u8303 \u65e0\u6cd5\u5c55\u793a\uff0c\u656c\u8bf7\u8c05\u89e3\u3002"}):[I.af_.Pending,I.af_.Prepublish,I.af_.Checking].includes(p)&&x.username!==(null===u||void 0===u||null===(i=u.userStatus)||void 0===i?void 0:i.userSlug)?(0,o.jsx)(Cn,{title:"\u5185\u5bb9\u6b63\u5728\u5236\u4f5c\u4e2d",description:"\u8bf7\u7a0d\u540e\u67e5\u770b"}):(0,o.jsx)(gn,{questionTitleSlug:t}):(0,o.jsx)(Cn,{title:"\u9898\u89e3\u4e0d\u5b58\u5728",description:"\u8bf7\u67e5\u770b\u5176\u4ed6\u9898\u89e3"})},Nn=n(76346),kn=h.Oo?function(e){var i=e.topicId,n=e.titleSlug;return(0,k.O6j)(S.f6,{topicId:i,titleSlug:n},{enabled:!!i&&!!n,select:function(e){var i,n,o,t,l=null===e||void 0===e?void 0:e.topic;return l?{isOfficialSolution:null===e||void 0===e?void 0:e.isSolutionTopic,isOfficialSolutionPaidOnly:Boolean(null===e||void 0===e||null===(i=e.question)||void 0===i||null===(n=i.solution)||void 0===n?void 0:n.paidOnly),title:l.title,author:null!==(t=null===(o=l.post.author)||void 0===o?void 0:o.username)&&void 0!==t?t:""}:null}})}:function(){return{}},In=n(27695),Sn=n(87220),Tn=n(17347),Zn=n(38296),On=function(e){var i=(0,b.cm)((function(e){return e.updateTopic})),n=(0,y.Xn)((function(e){return e.updateFilters})),o=(0,t.useRef)(0),r=(0,t.useCallback)((function(e){var o=e.routerTabs,t=e.queryParams,r=t.q,a=t.orderBy,u=t.page,c=t.languageTags,d=t.topicTags;n((0,l.Z)({},r?{query:r}:{query:""},a?{orderBy:a}:{orderBy:void 0},u?{page:Number(u)}:{page:1},c?{languageTags:c.split(",")}:{languageTags:[]},d?{topicTags:d.split(",")}:{topicTags:[]}));var v=(0,s.Z)(o,4),f=v[0],m=v[1],p=v[2],x=v[3],g=(0,l.Z)({},f?{topicId:Number(f)}:{topicId:void 0},m?{topicTitleSlug:m}:{topicTitleSlug:void 0},"comments"===p&&x?{commentId:Number(x)}:{commentId:void 0});i(g)}),[n,i]);(0,t.useEffect)((function(){return f.T.subscribe(Zn._.RouteUpdated,(function(e){var i=e.routerTabs,n=e.queryParams;if(o.current>0)return o.current-=1;r({routerTabs:i,queryParams:n})}),{startWithLastEvent:!0})}),[r]);var u=(0,t.useCallback)((function(i){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=null!==i&&void 0!==i?i:b.cm.getState(),r=t.topicId,u=t.topicTitleSlug,c=t.commentId,d=y.Xn.getState(),f=d.query,x=d.orderBy,g=d.languageTags,h=d.topicTags,j=d.page,C=m.Hb.solutions(e,r,u,c),w=(0,l.Z)({},""!==f.trim()?{q:f}:{},x?{orderBy:x}:{},j>1?{page:j}:{},g.length>0?{languageTags:g.join(",")}:{},h.length>0?{topicTags:h.join(",")}:{}),N=(0,s.Z)((0,p.y)(["q","orderBy","page","languageTags","topicTags"]),2),k=N[1];if(n){var I=(0,a.resolveHref)(v(),{pathname:C,query:w});window.open(I,"_blank")}else v().push({pathname:C,query:(0,l.Z)({},k,w)},void 0,{shallow:!0});o.current+=1}),[e]);(0,t.useEffect)((function(){return f.T.subscribe(C.Ap.Navigate,(function(e,n){u(e,null===n||void 0===n?void 0:n.isExternal),(null===n||void 0===n?void 0:n.isExternal)||i(e)}))}),[u,i]),(0,t.useEffect)((function(){return f.T.subscribe(C.Ap.Editor,(function(e,i){var n=e.questionSlug,o=e.topicId,t=e.slug,l=m.Hb.solutionEditor(n,o,t);if(null===i||void 0===i?void 0:i.isExternal){var s=(0,a.resolveHref)(v(),{pathname:l});window.open(s,"_blank")}else v().push({pathname:l},void 0,{shallow:!0})}))}),[]),(0,t.useEffect)((function(){return f.T.subscribe(C.Ap.UpdateFilters,(function(e){n(e),u(null)}))}),[n,u])},Pn=function(){var e=(0,c.$G)("problems").t,i=(0,In.nO)(),n=(0,d.useRouter)(),l=[Sn.r.Solutions,n.query.id].concat((0,r.Z)(n.query.ids||[])),a=n.query.id,v=(0,s.Z)(n.query.ids||[],1)[0],f=(0,Tn.T)({routerTabArray:l}),p=f.questionTitleSlug,y=f.questionBasicData,C=f.questionContentData,w=f.questionTranslations,N=(0,b.cm)((function(e){return e.setQuestionSlug}));(0,t.useEffect)((function(){return N(p)}),[N,p]),On(p);var k=kn({topicId:Number(a),titleSlug:p}).data,I=(null===k||void 0===k?void 0:k.isOfficialSolution)&&(null===k||void 0===k?void 0:k.isOfficialSolutionPaidOnly),S=(0,t.useMemo)((function(){return h.Oo?null===y||void 0===y?void 0:y.title:"".concat((null===y||void 0===y?void 0:y.questionFrontendId)||"",". ").concat((null===w||void 0===w?void 0:w.translatedTitle)||(null===y||void 0===y?void 0:y.title)||"")}),[null===y||void 0===y?void 0:y.questionFrontendId,null===y||void 0===y?void 0:y.title,null===w||void 0===w?void 0:w.translatedTitle]),T=(0,u.convert)((null===w||void 0===w?void 0:w.translatedContent)||(null===C||void 0===C?void 0:C.content)||e("meta.defaultDescription"),{wordwrap:!1}),Z="https://".concat(x._d),O="".concat(Z).concat(m.Hb.questionDetailWithTab(p,Sn.r.Description)),P=(null===k||void 0===k?void 0:k.isOfficialSolution)?"Official Solution - ".concat(null===y||void 0===y?void 0:y.title):"".concat(null===k||void 0===k?void 0:k.title," - ").concat(null===y||void 0===y?void 0:y.title),q=(null===k||void 0===k?void 0:k.isOfficialSolution)?"View the official solution to ".concat(null===y||void 0===y?void 0:y.title,", a real interview question on LeetCode."):"View ".concat(null===k||void 0===k?void 0:k.author,"'s solution of ").concat(null===y||void 0===y?void 0:y.title," on LeetCode, the world's largest programming community."),A="".concat(Z).concat(m.Hb.questionDetail(p),"solutions/").concat(a,"/").concat(v),B=k&&h.Oo?{title:e("meta.title",{title:P}),description:q,link:A}:{title:e("meta.title",{title:S}),description:e("meta.description",{title:S,content:T}),link:O};if(!p)return null;var R=h.Oo?gn:wn;return(0,o.jsxs)("div",{className:(0,g.yI)("flex min-h-screen min-w-[360px] flex-col",j.Cj.label1),children:[(0,o.jsx)(Nn.p,{title:B.title,description:B.description,openGraph:{url:B.link}}),I&&(0,o.jsx)(Nn.F,{}),(0,o.jsx)("div",{className:(0,g.yI)("h-full",j.Cj.bg),children:(0,o.jsxs)("div",{className:"flex h-full w-full flex-col",children:[(0,o.jsx)(In.JP,{isMobile:!!i}),(0,o.jsx)("div",{className:(0,g.yI)("min-h-[calc(100vh_-_50px)]",{"mt-[50px]":i}),children:(0,o.jsx)(R,{questionTitleSlug:p})})]})})]})};function qn(){return(0,o.jsx)(Pn,{})}},88150:function(e,i,n){var o=n(55544),t="string"===typeof o?[[e.id,o,""]]:o;(i=e.exports=o.locals||{})._getContent=function(){return t},i._getCss=function(){return""+o}}},function(e){var i=function(i){return e(e.s=i)};e.O(0,[6074,6898,129,6414,1664,5501,1092,8764,1613,3531,930,8561,1321,1462,5518,4416,8944,6126,4945,9594,2475,8712,5427,3235,7237,9677,5913,7347,9774,2888,179],(function(){return i(22449),i(11707)}));var n=e.O();_N_E=n}]);